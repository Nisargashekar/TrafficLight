C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\DP8051\DP8051_Keil_951\Debug\main.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.2\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -main.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(DEBUG) WL(2) PR(.\DP8051\DP8051_Ke
                    -il_951\Debug/main.lst) CD OT(2,SIZE) OJ(.\DP8051\DP8051_Keil_951\Debug\main.obj)

line level    source

   1          /* ========================================
   2           *
   3           * Copyright YOUR COMPANY, THE YEAR
   4           * All Rights Reserved
   5           * UNPUBLISHED, LICENSED SOFTWARE.
   6           *
   7           * CONFIDENTIAL AND PROPRIETARY INFORMATION
   8           * WHICH IS THE PROPERTY OF your company.
   9           *
  10           * ========================================
  11          */
  12          #include "project.h"
  13          //#include <SerialCommunication.h>
  14          //#include <UART.c>
  15          #include <STDIO.H>
  16          #include <MATH.H>
  17          
  18          #define ON               1
  19          #define OFF              0
  20          #define Normal           0
  21          #define Afterhours       1
  22          #define ThreeDigitNumber 100
  23          #define Index            12 
  24          
  25          
  26          
  27          
  28          #define IDEAL_DURATION   02
  29          #define GREEN_DURATION   10
  30          #define AMBER_DURATION   02
  31          #define DEFAULT_DURATION 10
  32          #define Sizeoffarray     46
  33          #define Setting_Mode     01
  34          #define Working_Mode     02
  35          
  36          void Start_AllModules();
  37          void Settingmode_Operation();
  38          void Workingmode_Operation();
  39          void Initialize();
  40          void LCD_Print();
  41          void TrafficLight_Operation();
  42          void Afterhours_Operation();
  43          void LED_Operation(uint8 onoff);
  44          void RedDuration_Calculation();
  45          void SettingModeLED_Operation();
  46          void Mode_Selection();
  47          void EEPROM_WriteFunction(uint16 EepromAddress);
  48          void EEPROM_Read(uint16 EepromAddress , uint16 RegCount);
  49          
  50          void UART_Read();
  51          void UART_Start_Operation();
  52          
  53          enum {STATE_1,STATE_2, STATE_3,STATE_4, STATE_5, STATE_6,STATE_7,STATE_8,STATE_9,STATE_10,STATE_11,STATE_1
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 2   

             -2};
  54          //uint8 TimeInState;
  55          uint8 CurrentState;
  56          uint8 OneSecondFlag;
  57          uint16 FGREEN_DURATION = DEFAULT_DURATION;
  58          uint16 RGREEN_DURATION = DEFAULT_DURATION;
  59          uint16 DGREEN_DURATION = DEFAULT_DURATION;
  60          uint16 LGREEN_DURATION = DEFAULT_DURATION;
  61          uint16 auigreenduration[Sizeoffarray]={DEFAULT_DURATION,DEFAULT_DURATION,DEFAULT_DURATION,DEFAULT_DURATION
             -,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
  62          uint16 auiredduration[4]={0,0,0,0};
  63          
  64          uint16 Ftimer ;
  65          uint16 Rtimer ;
  66          uint16 Dtimer ;
  67          uint16 Ltimer ;
  68          uint8 Switch1CaptureFlag = 0;
  69          uint8 Switch2CaptureFlag = 0;
  70          uint8 LightSettingFlag =0;
  71          uint8 Switch1PressCount = 0;
  72          uint8 Mode = 0;
  73          
  74          uint8 LightCurrentState;
  75          uint8 LightPreviousState;
  76          uint8 FRedLEDState =0;
  77          uint8 FGreenLEDState =0;
  78          uint8 FAmberLEDState =0;
  79          uint8 RRedLEDState =0;
  80          uint8 RGreenLEDState =0;
  81          uint8 RAmberLEDState =0;
  82          uint8 DRedLEDState =0;
  83          uint8 DGreenLEDState =0;
  84          uint8 DAmberLEDState =0;
  85          uint8 LRedLEDState =0;
  86          uint8 LGreenLEDState =0;
  87          uint8 LAmberLEDState =0;
  88          uint8 InitialCount=0;
  89          uint8 LoopCounter;
  90          uint16 EepromAddress = 0;
  91          uint8 EEPROMWriteFlag =0;
  92          uint16 my_ADC_counts;
  93          char8 result_str[16u];
  94          float result_in_volts;
  95          
  96          /*******************************************************************************
  97          * Function Name: main
  98          ********************************************************************************
  99          *
 100          * Summary:
 101          *  
 102          * This function starts ADC,Timer,ISR, EEPROM,LCD. Check for switch press         
 103          * 
 104          *
 105          * Parameters:
 106          * None 
 107          *
 108          * Return:
 109          * None
 110          *
 111          *******************************************************************************/
 112          
 113          int main(void)
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 3   

 114          {
 115   1           
 116   1          CyGlobalIntEnable; /* Enable global interrupts. */
 117   1          Start_AllModules();
 118   1      
 119   1          
 120   1          /* Place your initialization/startup code here (e.g. MyInst_Start()) */
 121   1          
 122   1          
 123   1          for(;;)
 124   1          {
 125   2                  
 126   2              UART_Read();   
 127   2                  
 128   2              if(CurrentState == Afterhours){
 129   3                  
 130   3                  if(Switch2CaptureFlag){
 131   4                      Switch2CaptureFlag=0;
 132   4                  }
 133   3                  
 134   3              }else{
 135   3                  if(Switch2CaptureFlag){
 136   4                      Switch2CaptureFlag=0;
 137   4                      LightSettingFlag++;
 138   4                      SW_ISR2_ClearPending();
 139   4                      Mode_Selection();           
 140   4                  }
 141   3              }
 142   2              
 143   2      
 144   2              if(Mode == Setting_Mode){
 145   3                  
 146   3                  Settingmode_Operation();
 147   3                  
 148   3                  SettingModeLED_Operation();
 149   3                  
 150   3              }else if(Mode == Working_Mode){
 151   3                 
 152   3                   Workingmode_Operation();
 153   3              }
 154   2             
 155   2          }
 156   1      }
 157          
 158          /*******************************************************************************
 159          * Function Name: Start_AllModules
 160          ********************************************************************************
 161          *
 162          * Summary:
 163          *  
 164          * Starts ADC,Timer,Interrupt,EEMPROm,UART,LCD 
 165          * 
 166          *
 167          * Parameters:
 168          *  None
 169          *
 170          * Return:
 171          *  None
 172          *
 173          *******************************************************************************/
 174          
 175          void Start_AllModules(){
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 4   

 176   1          
 177   1          ADC_Start();
 178   1          ADC_StartConvert();
 179   1          LED_UpdateTimer_Start();
 180   1          LED_UpdateISR_Start();
 181   1          EEPROM_Start();
 182   1          SW_ISR1_Start();
 183   1          SW_ISR2_Start();
 184   1          UART_Start_Operation();
 185   1          LCD_Start();
 186   1          Initialize();
 187   1          
 188   1      }
 189          
 190          /*******************************************************************************
 191          * Function Name: Mode_Selection
 192          ********************************************************************************
 193          *
 194          * Summary:
 195          *  
 196          * Set the mode of operation  to setting mode by checking LightSettingFlag and stores the   
 197          * auigreenduration array value to eeprom
 198          *
 199          * Parameters:
 200          *  None
 201          *
 202          * Return:
 203          *  None
 204          *
 205          *******************************************************************************/
 206          void Mode_Selection(){
 207   1          
 208   1          if(LightSettingFlag == 1){
 209   2              
 210   2                  Mode = Setting_Mode;
 211   2                  SettingModeLED_Operation();
 212   2                  LCD_ClearDisplay();
 213   2                  LCD_Print();
 214   2                  
 215   2              }
 216   1          else if(LightSettingFlag == 3){
 217   2              
 218   2                  LightSettingFlag =0;
 219   2                  Switch1PressCount =0;
 220   2                  EEPROMWriteFlag = 1;
 221   2                  auigreenduration[4] = EEPROMWriteFlag;
 222   2                  EEPROM_WriteFunction(0);
 223   2                  LCD_ClearDisplay();
 224   2                  Initialize();
 225   2          }
 226   1      }
 227          /*******************************************************************************
 228          * Function Name: Initialize
 229          ********************************************************************************
 230          *
 231          * Summary:
 232          *  
 233          * This function sets the default states, mode of operation and reads the eeprom values    
 234          *  
 235          *
 236          * Parameters:
 237          *  None
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 5   

 238          *
 239          * Return:
 240          *  None
 241          *
 242          *******************************************************************************/
 243          
 244          void Initialize(){
 245   1          
 246   1          CurrentState =  Normal;
 247   1          Mode = Working_Mode;
 248   1          LightCurrentState = STATE_1;
 249   1          LightPreviousState = STATE_1;
 250   1          InitialCount = 1;
 251   1      //    Ftimer = 02;
 252   1      //    Rtimer = 16;
 253   1      //    Dtimer = 30;
 254   1      //    Ltimer = 44;
 255   1          EEPROM_Read(0,5);
 256   1          
 257   1          if(auigreenduration[4] == 0){
 258   2              
 259   2              EEPROM_WriteFunction(0);
 260   2          }
 261   1      
 262   1          RedDuration_Calculation();
 263   1          Front_Red_LED_Write(ON);
 264   1          FRedLEDState = ON;
 265   1          Right_Red_LED_Write(ON);
 266   1          RRedLEDState = ON;
 267   1          Red_LED_Write(ON); 
 268   1          DRedLEDState = ON;
 269   1          Left_Red_LED_Write(ON);
 270   1          LRedLEDState = ON;
 271   1          
 272   1      }
 273          
 274          
 275          /*******************************************************************************
 276          * Function Name: LED_Operation
 277          ********************************************************************************
 278          *
 279          * Summary:
 280          *  
 281          * This function turns on/off the LED depending on the arguments passed inside the fucntion   
 282          *  
 283          *
 284          * Parameters:
 285          *  onoff
 286          *
 287          * Return:
 288          *  None
 289          *
 290          *******************************************************************************/
 291          void LED_Operation(uint8 onoff ){
 292   1          
 293   1          Front_Red_LED_Write(onoff);
 294   1          Front_Amber_LED_Write(onoff);
 295   1          Front_Green_LED_Write(onoff);
 296   1          
 297   1          Right_Red_LED_Write(onoff);
 298   1          Right_Amber_LED_Write(onoff);
 299   1          Right_Green_LED_Write(onoff);
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 6   

 300   1          
 301   1          Red_LED_Write(onoff);
 302   1          Amber_LED_Write(onoff);
 303   1          Green_LED_Write(onoff);
 304   1          
 305   1          Left_Red_LED_Write(onoff);
 306   1          Left_Amber_LED_Write(onoff);
 307   1          Left_Green_LED_Write(onoff);
 308   1      }
 309          
 310          /*******************************************************************************
 311          * Function Name: LED_Status
 312          ********************************************************************************
 313          *
 314          * Summary:
 315          *  
 316          * This function check for currentstate of operation of trafficlight and write      
 317          * the state of each LED 
 318          *
 319          * Parameters:
 320          *  None
 321          *
 322          * Return:
 323          *  None
 324          *
 325          *******************************************************************************/
 326          
 327          void LED_Status(){
 328   1          
 329   1          if(CurrentState == Normal){
 330   2              LightPreviousState = LightCurrentState;
 331   2              LCD_ClearDisplay();
 332   2              CurrentState = Afterhours;
 333   2              LCD_Print();
 334   2              
 335   2          }else if(CurrentState == Afterhours){
 336   2               
 337   2               CurrentState = Normal;
 338   2               LightCurrentState = LightPreviousState;         
 339   2              
 340   2              
 341   2               Front_Red_LED_Write(FRedLEDState);
 342   2               Front_Amber_LED_Write(FAmberLEDState);
 343   2               Front_Green_LED_Write(FGreenLEDState);
 344   2               Right_Red_LED_Write(RRedLEDState);
 345   2               Right_Amber_LED_Write(RAmberLEDState);
 346   2               Right_Green_LED_Write(RGreenLEDState);
 347   2               Red_LED_Write(DRedLEDState);
 348   2               Amber_LED_Write(DAmberLEDState);
 349   2               Green_LED_Write(DGreenLEDState);
 350   2               Left_Red_LED_Write(LRedLEDState);
 351   2               Left_Amber_LED_Write(LAmberLEDState);
 352   2               Left_Green_LED_Write(LGreenLEDState);
 353   2               
 354   2          }else {
 355   2              
 356   2              
 357   2          }
 358   1          
 359   1      }
 360          
 361          /*******************************************************************************
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 7   

 362          * Function Name: mapf
 363          ********************************************************************************
 364          *
 365          * Summary:
 366          *  
 367          * This function check for currentstate of operation of trafficlight and write      
 368          * the state of each LED 
 369          *
 370          * Parameters:
 371          * POT voltage, min vtg, max vtg, min value, max value 
 372          *
 373          * Return:
 374          * Value or Number between 10 to 150 
 375          *
 376          *******************************************************************************/
 377          
 378          double mapf(double val, double in_min, double in_max, double out_min, double out_max) {
 379   1          return (val - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
 380   1      }
 381          
 382          /*******************************************************************************
 383          * Function Name: DurationSetting_Operation
 384          ********************************************************************************
 385          *
 386          * Summary:
 387          *  
 388          * This function read the ADC value and converts it into voltage      
 389          *  
 390          *
 391          * Parameters:
 392          * None 
 393          *
 394          * Return:
 395          * None
 396          *
 397          *******************************************************************************/
 398          
 399          void DurationSetting_Operation(){
 400   1          
 401   1              while(!ADC_IsEndConversion(ADC_WAIT_FOR_RESULT));
 402   1              my_ADC_counts = ADC_GetResult16();
 403   1              result_in_volts = ADC_CountsTo_Volts(my_ADC_counts);
 404   1              //sprintf((char *)result_str,"%1.2fv",result_in_volts);
 405   1              
 406   1      }
 407          
 408          /*******************************************************************************
 409          * Function Name: Settingmode_Operation
 410          ********************************************************************************
 411          *
 412          * Summary:
 413          *  
 414          * This function perfomes setting mode operation       
 415          *   
 416          *
 417          * Parameters:
 418          * None 
 419          *
 420          * Return:
 421          * None
 422          *
 423          *******************************************************************************/
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 8   

 424          
 425          void Settingmode_Operation(){
 426   1          
 427   1          if(Switch1CaptureFlag){
 428   2                      Switch1PressCount++;
 429   2                      Switch1CaptureFlag =0;
 430   2                      SW_ISR1_ClearPending();
 431   2                  }
 432   1                  if(Switch1PressCount == 1){
 433   2                      
 434   2                      DurationSetting_Operation();
 435   2                      if(LightSettingFlag == 2){
 436   3                          LightSettingFlag = 1;
 437   3      //                    ExitflagFront = 1;
 438   3      //                    Switch2PressCountFront++;
 439   3                          FGREEN_DURATION = mapf(result_in_volts, 0, 3.3, 10, 150);
 440   3                          auigreenduration[0]=FGREEN_DURATION; 
 441   3                          
 442   3                      }
 443   2      //                if((Switch2PressCountFront == 2) && (ExitflagFront == 1)){
 444   2      //                    Switch2PressCountFront++;
 445   2      //                    ExitflagFront = 0;
 446   2      //                    Mode_Selection();
 447   2      //                }else{
 448   2      //                    
 449   2      //                }
 450   2                      LCD_ClearDisplay(); 
 451   2                      LCD_Print();
 452   2                                   
 453   2                  }else if (Switch1PressCount == 2){
 454   2                      
 455   2                      DurationSetting_Operation();
 456   2                      if(LightSettingFlag == 2){
 457   3                          LightSettingFlag = 1;
 458   3                          RGREEN_DURATION = mapf(result_in_volts, 0, 3.3, 10, 150);
 459   3                          auigreenduration[1]=RGREEN_DURATION;   
 460   3                          
 461   3                      }
 462   2                      LCD_ClearDisplay(); 
 463   2                      LCD_Print();
 464   2                      
 465   2                  }else if(Switch1PressCount == 3){
 466   2                      
 467   2                      DurationSetting_Operation();
 468   2                      if(LightSettingFlag == 2){
 469   3                          LightSettingFlag = 1;
 470   3                          DGREEN_DURATION = mapf(result_in_volts, 0, 3.3, 10, 150);
 471   3                          auigreenduration[2]=DGREEN_DURATION;
 472   3                       
 473   3                      } 
 474   2                      LCD_ClearDisplay(); 
 475   2                      LCD_Print();
 476   2                       
 477   2                  }else if(Switch1PressCount == 4){
 478   2                      
 479   2                      DurationSetting_Operation();
 480   2                      if(LightSettingFlag == 2){
 481   3                          LightSettingFlag = 1;
 482   3                          LGREEN_DURATION = mapf(result_in_volts, 0, 3.3, 10, 150);
 483   3                          auigreenduration[3]=LGREEN_DURATION;
 484   3                          
 485   3                      }
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 9   

 486   2                      LCD_ClearDisplay(); 
 487   2                      LCD_Print();
 488   2                        
 489   2                  }else{
 490   2                      Switch1PressCount=0;
 491   2                  }
 492   1      }
 493          
 494          /*******************************************************************************
 495          * Function Name: Workingmode_Operation
 496          ********************************************************************************
 497          *
 498          * Summary:
 499          *  
 500          * This function perfomes working mode operation       
 501          *   
 502          *
 503          * Parameters:
 504          * None 
 505          *
 506          * Return:
 507          * None
 508          *
 509          *******************************************************************************/
 510          
 511          void Workingmode_Operation(){
 512   1          
 513   1          if(Switch1CaptureFlag){
 514   2              Switch1CaptureFlag=0;
 515   2              SW_ISR1_ClearPending();
 516   2              LED_Status();
 517   2          }
 518   1          if(CurrentState == Normal){
 519   2              TrafficLight_Operation();
 520   2              
 521   2          }else if(CurrentState == Afterhours){
 522   2              
 523   2              Afterhours_Operation();
 524   2              
 525   2          }else{
 526   2              
 527   2          }
 528   1          
 529   1      }
 530          
 531          /*******************************************************************************
 532          * Function Name: TrafficLight_Operation
 533          ********************************************************************************
 534          *
 535          * Summary:
 536          *  
 537          * This function performce the LED On/off function based on the LightCurrentState      
 538          * and timer values of each lane  
 539          *
 540          * Parameters:
 541          * None 
 542          *
 543          * Return:
 544          * None
 545          *
 546          *******************************************************************************/
 547          
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 10  

 548          void TrafficLight_Operation(){
 549   1          
 550   1          switch(LightCurrentState){
 551   2              case STATE_1:{
 552   3                   if(Ftimer == 0){
 553   4                      if(InitialCount){
 554   5                          InitialCount =0;
 555   5                      }else{
 556   5                          Ltimer = auiredduration[3];
 557   5                      }
 558   4                      Ftimer = AMBER_DURATION;
 559   4                      if(Ftimer == AMBER_DURATION){
 560   5      
 561   5                          Front_Red_LED_Write(OFF);
 562   5                          FRedLEDState = OFF;
 563   5      
 564   5                          Front_Amber_LED_Write(ON);
 565   5                          FAmberLEDState = ON;
 566   5      
 567   5                          LightCurrentState = STATE_2;
 568   5                      }
 569   4                  }
 570   3                  break;
 571   3              }case STATE_2:{
 572   3                  if(Ftimer == 0){
 573   4                      Ftimer = auigreenduration[0];
 574   4                       if(Ftimer == auigreenduration[0]){
 575   5      
 576   5                          Front_Amber_LED_Write(OFF);
 577   5                          FAmberLEDState = OFF;
 578   5      
 579   5                          Front_Green_LED_Write(ON);
 580   5                          FGreenLEDState = ON;
 581   5      
 582   5                          LightCurrentState = STATE_3;
 583   5                      }
 584   4                  }
 585   3                 
 586   3                  break;
 587   3              }case STATE_3:{
 588   3                  if(Ftimer == 0){
 589   4                      Ftimer = IDEAL_DURATION;
 590   4                      if(Ftimer == IDEAL_DURATION){
 591   5                      
 592   5                          Front_Green_LED_Write(OFF);
 593   5                          FGreenLEDState = OFF;
 594   5      
 595   5                          Front_Red_LED_Write(ON);
 596   5                          FRedLEDState = ON; 
 597   5      
 598   5                          LightCurrentState = STATE_4;
 599   5                      }
 600   4                  }
 601   3                  
 602   3                  break;
 603   3              }case STATE_4:{
 604   3                  if(Rtimer == 0){
 605   4                      Ftimer = auiredduration[0];
 606   4                      Rtimer = AMBER_DURATION;
 607   4                      if(Rtimer == AMBER_DURATION){
 608   5      
 609   5                          Right_Red_LED_Write(OFF);
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 11  

 610   5                          RRedLEDState = OFF;
 611   5      
 612   5                          Right_Amber_LED_Write(ON);
 613   5                          RAmberLEDState = ON;
 614   5      
 615   5                          LightCurrentState = STATE_5;
 616   5                      }
 617   4                  }
 618   3                  break;
 619   3              }case STATE_5:{
 620   3                  if(Rtimer == 0){
 621   4                      Rtimer = auigreenduration[1];
 622   4                      if(Rtimer == auigreenduration[1]){
 623   5      
 624   5                          Right_Amber_LED_Write(OFF);
 625   5                          RAmberLEDState = OFF;
 626   5      
 627   5                          Right_Green_LED_Write(ON);
 628   5                          RGreenLEDState = ON;
 629   5      
 630   5                          LightCurrentState = STATE_6;
 631   5                      }
 632   4                  }
 633   3                  break;
 634   3              }case STATE_6:{
 635   3                  if(Rtimer == 0){
 636   4                      Rtimer = IDEAL_DURATION;
 637   4                      if(Rtimer == IDEAL_DURATION){
 638   5      
 639   5                          Right_Green_LED_Write(OFF);
 640   5                          RGreenLEDState = OFF;
 641   5      
 642   5                          Right_Red_LED_Write(ON);
 643   5                          RRedLEDState = ON;
 644   5      
 645   5                          LightCurrentState = STATE_7;
 646   5                      }
 647   4                  }
 648   3                  break;
 649   3              }case STATE_7:{
 650   3                  if(Dtimer == 0){
 651   4                      Rtimer = auiredduration[1];
 652   4                      Dtimer = AMBER_DURATION;
 653   4                      if(Dtimer == AMBER_DURATION){
 654   5      
 655   5                          Red_LED_Write(OFF);
 656   5                          DRedLEDState = OFF;
 657   5      
 658   5                          Amber_LED_Write(ON);
 659   5                          DAmberLEDState = ON;
 660   5      
 661   5                          LightCurrentState = STATE_8;
 662   5                      }
 663   4                  }
 664   3                  break;
 665   3              }case STATE_8:{
 666   3                   if(Dtimer == 0){
 667   4                      Dtimer = auigreenduration[2];
 668   4                      if(Dtimer == auigreenduration[2]){
 669   5      
 670   5                          Amber_LED_Write(OFF);
 671   5                          DAmberLEDState = OFF;
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 12  

 672   5      
 673   5                          Green_LED_Write(ON);
 674   5                          DGreenLEDState = ON;
 675   5      
 676   5                          LightCurrentState = STATE_9;
 677   5                      }
 678   4                  }
 679   3                  break;
 680   3              }case STATE_9:{
 681   3                   if(Dtimer == 0){
 682   4                      Dtimer = IDEAL_DURATION;
 683   4                      if(Dtimer == IDEAL_DURATION){
 684   5      
 685   5                          Green_LED_Write(OFF);
 686   5                          DGreenLEDState = OFF;
 687   5      
 688   5                          Red_LED_Write(ON);
 689   5                          DRedLEDState = ON;
 690   5      
 691   5                          LightCurrentState = STATE_10;
 692   5                      }
 693   4                  }
 694   3                  break;
 695   3              }case STATE_10:{
 696   3                  if(Ltimer == 0){
 697   4                      Dtimer = auiredduration[2];
 698   4                      Ltimer = AMBER_DURATION;
 699   4                      if(Ltimer == AMBER_DURATION){
 700   5      
 701   5                          Left_Red_LED_Write(OFF);
 702   5                          LRedLEDState = OFF;
 703   5      
 704   5                          Left_Amber_LED_Write(ON);
 705   5                          LAmberLEDState = ON;
 706   5      
 707   5                          LightCurrentState = STATE_11;
 708   5                      }
 709   4                  }
 710   3                  break;
 711   3              }case STATE_11:{
 712   3                  if(Ltimer == 0){
 713   4                      Ltimer = auigreenduration[3];
 714   4                      if(Ltimer == auigreenduration[3]){
 715   5      
 716   5                          Left_Amber_LED_Write(OFF);
 717   5                          LAmberLEDState = OFF;
 718   5      
 719   5                          Left_Green_LED_Write(ON);
 720   5                          LGreenLEDState = ON;
 721   5      
 722   5                          LightCurrentState = STATE_12;
 723   5                      }
 724   4                  }
 725   3                  break;
 726   3              }case STATE_12:{
 727   3                  if(Ltimer == 0){
 728   4                      Ltimer = IDEAL_DURATION;
 729   4                      if(Ltimer == IDEAL_DURATION){
 730   5      
 731   5                          Left_Green_LED_Write(OFF);
 732   5                          LGreenLEDState = OFF;
 733   5      
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 13  

 734   5                          Left_Red_LED_Write(ON);
 735   5                          LRedLEDState = ON;
 736   5      
 737   5                          LightCurrentState = STATE_1;
 738   5                      }
 739   4                  }
 740   3                  break;
 741   3              }
 742   2          }
 743   1              if(OneSecondFlag){
 744   2              OneSecondFlag = 0;
 745   2              --Ftimer;
 746   2              --Rtimer;
 747   2              --Dtimer;
 748   2              --Ltimer;
 749   2          }
 750   1              LCD_Print();
 751   1      }
 752          
 753          /*******************************************************************************
 754          * Function Name: SettingModeLED_Operation
 755          ********************************************************************************
 756          *
 757          * Summary:
 758          *  
 759          * This function switches off all the LED's if the mode of operation is setting mode       
 760          *  
 761          *
 762          * Parameters:
 763          * None 
 764          *
 765          * Return:
 766          * None
 767          *
 768          *******************************************************************************/
 769          
 770          void SettingModeLED_Operation(){
 771   1          
 772   1          if(Switch1PressCount == 0){
 773   2              
 774   2              Front_Green_LED_Write(OFF);
 775   2              Front_Red_LED_Write(OFF);
 776   2              Right_Green_LED_Write(OFF);
 777   2              Right_Red_LED_Write(OFF);
 778   2              Left_Green_LED_Write(OFF);
 779   2              Left_Red_LED_Write(OFF);
 780   2              Green_LED_Write(OFF);
 781   2              Red_LED_Write(OFF);
 782   2              Front_Amber_LED_Write(OFF);
 783   2              Right_Amber_LED_Write(OFF);
 784   2              Left_Amber_LED_Write(OFF);
 785   2              Amber_LED_Write(OFF);
 786   2          }
 787   1          
 788   1          if(Switch1PressCount == 1){
 789   2              Left_Green_LED_Write(OFF);
 790   2              Front_Green_LED_Write(ON);
 791   2              CyDelay(100);
 792   2              Front_Green_LED_Write(OFF);
 793   2              CyDelay(100);
 794   2          }else if(Switch1PressCount == 2){
 795   2              Front_Green_LED_Write(OFF);
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 14  

 796   2              Right_Green_LED_Write(ON);
 797   2              CyDelay(100);
 798   2              Right_Green_LED_Write(OFF);
 799   2              CyDelay(100);
 800   2          }else if(Switch1PressCount == 3){
 801   2              Right_Green_LED_Write(OFF);
 802   2              Green_LED_Write(ON);
 803   2              CyDelay(100);
 804   2              Green_LED_Write(OFF);
 805   2              CyDelay(100);
 806   2          }else if(Switch1PressCount == 4){
 807   2              Green_LED_Write(OFF);
 808   2              Left_Green_LED_Write(ON);
 809   2              CyDelay(100);
 810   2              Left_Green_LED_Write(OFF);
 811   2              CyDelay(100);
 812   2              
 813   2          }else{
 814   2              
 815   2          }
 816   1          
 817   1      }
 818          
 819          /*******************************************************************************
 820          * Function Name: Afterhours_Operation
 821          ********************************************************************************
 822          *
 823          * Summary:
 824          *  
 825          * This function switches off and on the amber LED in the afterhour mode i.e,night mode       
 826          *  
 827          *
 828          * Parameters:
 829          * None 
 830          *
 831          * Return:
 832          * None
 833          *
 834          *******************************************************************************/
 835          void Afterhours_Operation(){
 836   1          Front_Green_LED_Write(OFF);
 837   1          Front_Red_LED_Write(OFF);
 838   1          Right_Green_LED_Write(OFF);
 839   1          Right_Red_LED_Write(OFF);
 840   1          Left_Green_LED_Write(OFF);
 841   1          Left_Red_LED_Write(OFF);
 842   1          Green_LED_Write(OFF);
 843   1          Red_LED_Write(OFF);
 844   1          Front_Amber_LED_Write(ON);
 845   1          Right_Amber_LED_Write(ON);
 846   1          Left_Amber_LED_Write(ON);
 847   1          Amber_LED_Write(ON);
 848   1          CyDelay(500);
 849   1          Front_Amber_LED_Write(OFF);
 850   1          Right_Amber_LED_Write(OFF);
 851   1          Left_Amber_LED_Write(OFF);
 852   1          Amber_LED_Write(OFF);
 853   1          CyDelay(500);
 854   1      }
 855          
 856          /*******************************************************************************
 857          * Function Name: EEPROM_WriteFunction
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 15  

 858          ********************************************************************************
 859          *
 860          * Summary:
 861          *  
 862          * This function writes the set green duration values into eeprom        
 863          *  
 864          *
 865          * Parameters:
 866          * None 
 867          *
 868          * Return:
 869          * None
 870          *
 871          *******************************************************************************/
 872          void EEPROM_WriteFunction(uint16 EepromAddress){
 873   1          
 874   1          if(EEPROMWriteFlag == 2){
 875   2              
 876   2              EEPROM_WriteByte(auigreenduration[EepromAddress],EepromAddress);
 877   2              
 878   2          }else{
 879   2              
 880   2              for(LoopCounter = 0;LoopCounter < Sizeoffarray; LoopCounter++){
 881   3      
 882   3                  EEPROM_WriteByte(auigreenduration[LoopCounter],EepromAddress);
 883   3                  EepromAddress++;
 884   3              }
 885   2              
 886   2          }
 887   1      }
 888          
 889          /*******************************************************************************
 890          * Function Name: EEPROM_Read
 891          ********************************************************************************
 892          *
 893          * Summary:
 894          *  
 895          * This function reads the stored set duration value form eeprom         
 896          *  
 897          *
 898          * Parameters:
 899          * None 
 900          *
 901          * Return:
 902          * None
 903          *
 904          *******************************************************************************/
 905          
 906          void EEPROM_Read(uint16 EepromAddress , uint16 RegCount){
 907   1              
 908   1          
 909   1          if(EEPROMWriteFlag == 2){
 910   2              
 911   2              auigreenduration[EepromAddress] = EEPROM_ReadByte(EepromAddress);
 912   2              
 913   2          }else{
 914   2              
 915   2              
 916   2              for(LoopCounter = EepromAddress ; LoopCounter < (EepromAddress + RegCount); LoopCounter++){       
             - 
 917   3                 auigreenduration[LoopCounter] = EEPROM_ReadByte(LoopCounter);
 918   3      //            EepromAddress++;
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 16  

 919   3              }   
 920   2          }
 921   1              
 922   1              
 923   1              
 924   1      }
 925          
 926          /*******************************************************************************
 927          * Function Name: RedDuration_Calculation
 928          ********************************************************************************
 929          *
 930          * Summary:
 931          *  
 932          * This function calculates the red duration for all for timers during start of the          
 933          * program and stores the red duration value in auiredduration array
 934          *
 935          * Parameters:
 936          * None 
 937          *
 938          * Return:
 939          * None
 940          *
 941          *******************************************************************************/
 942          
 943          void RedDuration_Calculation(){
 944   1          
 945   1          if(InitialCount){
 946   2              Ftimer = IDEAL_DURATION;
 947   2              Rtimer = auigreenduration[0]+AMBER_DURATION+(IDEAL_DURATION*2);
 948   2              Dtimer = auigreenduration[0]+ auigreenduration[1]+ (AMBER_DURATION*2)+(IDEAL_DURATION*3);
 949   2              Ltimer = auigreenduration[0]+ auigreenduration[1]+ auigreenduration[2]+(AMBER_DURATION*3)+(IDEAL_D
             -URATION*4);
 950   2          }
 951   1          auiredduration[0] = auigreenduration[1] + auigreenduration[2] + auigreenduration[3] + (AMBER_DURATION*
             -3) + (IDEAL_DURATION*3);
 952   1          auiredduration[1] = auigreenduration[0] + auigreenduration[2] + auigreenduration[3] + (AMBER_DURATION*
             -3) + (IDEAL_DURATION*3);
 953   1          auiredduration[2] = auigreenduration[0] + auigreenduration[1] + auigreenduration[3] + (AMBER_DURATION*
             -3) + (IDEAL_DURATION*3);
 954   1          auiredduration[3] = auigreenduration[0] + auigreenduration[1] + auigreenduration[2] + (AMBER_DURATION*
             -3) + (IDEAL_DURATION*3);
 955   1          
 956   1      }
 957          
 958          
 959          /*******************************************************************************
 960          * Function Name: LCD_Clearindex
 961          ********************************************************************************
 962          *
 963          * Summary:
 964          *  
 965          * This function clears the third index of the number or parameter, when the number          
 966          * decreases from three digit to two digit. In other words trasition from three digit
 967          * to two or one digit, the clear operation for the second or third digit is done
 968          *
 969          *
 970          * Parameters:
 971          * Value 
 972          *
 973          * Return:
 974          * None
 975          *
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 17  

 976          *******************************************************************************/
 977          
 978          void LCD_Clearindex(uint16 Value){
 979   1          
 980   1          if(CurrentState == Normal){
 981   2              
 982   2              if(Value < ThreeDigitNumber ){
 983   3                  LCD_Position(0,5);
 984   3                  LCD_PrintString("   ");
 985   3                  LCD_Position(0,5);
 986   3                  LCD_PrintNumber(Ftimer);
 987   3              }else{
 988   3                      
 989   3                  LCD_Position(0,5);
 990   3                  LCD_PrintNumber(Ftimer);
 991   3              }
 992   2               if(Value < ThreeDigitNumber ){
 993   3                  LCD_Position(0,13);
 994   3                  LCD_PrintString("   ");
 995   3                  LCD_Position(0,13);
 996   3                  LCD_PrintNumber(Rtimer);
 997   3              }else{
 998   3                      
 999   3                  LCD_Position(0,13); 
1000   3                  LCD_PrintNumber(Rtimer);
1001   3              }
1002   2               if(Value < ThreeDigitNumber ){
1003   3                  LCD_Position(1,13);
1004   3                  LCD_PrintString("   ");
1005   3                  LCD_Position(1,13); 
1006   3                  LCD_PrintNumber(Dtimer);
1007   3              }else{
1008   3                      
1009   3                  LCD_Position(1,13);  
1010   3                  LCD_PrintNumber(Dtimer);
1011   3              }
1012   2               if(Value < ThreeDigitNumber ){
1013   3                  LCD_Position(1,5);
1014   3                  LCD_PrintString("   ");
1015   3                  LCD_Position(1,5); 
1016   3                  LCD_PrintNumber(Ltimer);
1017   3              }else{
1018   3                      
1019   3                  LCD_Position(1,5); 
1020   3                  LCD_PrintNumber(Ltimer);
1021   3              }
1022   2              
1023   2          }
1024   1      //    else if(LightSettingFlag){
1025   1      //        
1026   1      //        if(Value < ThreeDigitNumber ){
1027   1      //            LCD_Position(1,0);
1028   1      //            LCD_PrintString("   ");
1029   1      //            LCD_Position(1,0);
1030   1      //            LCD_PrintDecUint16(Value);
1031   1      //            LCD_Position(1,6);
1032   1      //            LCD_PrintString("   ");
1033   1      //            LCD_Position(1,6);
1034   1      //        }else{
1035   1      //                        
1036   1      //            LCD_Position(1,0);
1037   1      //            LCD_PrintDecUint16(Value);
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 18  

1038   1      //            LCD_Position(1,6); 
1039   1      //        }
1040   1      //        
1041   1      //    }
1042   1              else{
1043   2              
1044   2              
1045   2          }
1046   1          
1047   1          
1048   1      }
1049          
1050          
1051          
1052          
1053          /*******************************************************************************
1054          * Function Name: LCD_Print
1055          ********************************************************************************
1056          *
1057          * Summary:
1058          *  
1059          * This function performces timley operation of LCD write based on the operationg mode          
1060          * 
1061          *
1062          * Parameters:
1063          * None 
1064          *
1065          * Return:
1066          * None
1067          *
1068          *******************************************************************************/
1069          
1070          void LCD_Print(){
1071   1          
1072   1          uint16 duration; 
1073   1          
1074   1              if(LightSettingFlag){
1075   2                  
1076   2                   if(Switch1PressCount == 0){
1077   3                      
1078   3                      LCD_Position(0,0);
1079   3                      LCD_PrintString("Setting Mode:  ");
1080   3                      
1081   3                  }
1082   2                  
1083   2                  if(Switch1PressCount == 1){
1084   3                      
1085   3                      LCD_Position(0,0);
1086   3                      LCD_PrintString("FrontLaneGreenDur  ");
1087   3      //                if(LightSettingFlag){
1088   3      //                }
1089   3                      duration =  mapf(result_in_volts, 0, 3.3, 10, 150);
1090   3                      if(duration < ThreeDigitNumber ){
1091   4                          LCD_Position(1,0);
1092   4                          LCD_PrintString("   ");
1093   4                          LCD_Position(1,0);
1094   4                          LCD_PrintDecUint16(duration);
1095   4                          LCD_Position(1,6);
1096   4                          LCD_PrintString("   ");
1097   4                          LCD_Position(1,6);
1098   4                      }else{
1099   4                                      
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 19  

1100   4                          LCD_Position(1,0);
1101   4                          LCD_PrintDecUint16(duration);
1102   4                          LCD_Position(1,6); 
1103   4                      }
1104   3                      LCD_PrintNumber(auigreenduration[0]);
1105   3                      LCD_Position(1,9);
1106   3                      LCD_PrintString("PresLeftBut");
1107   3                      
1108   3                  } else if(Switch1PressCount == 2){
1109   3                      
1110   3                      LCD_Position(0,0);
1111   3                      LCD_PrintString("RightLaneGreenDur  ");
1112   3                      duration =  mapf(result_in_volts, 0, 3.3, 10, 150);
1113   3                      if(duration < ThreeDigitNumber ){
1114   4                          LCD_Position(1,0);
1115   4                          LCD_PrintString("   ");
1116   4                          LCD_Position(1,0);
1117   4                          LCD_PrintDecUint16(duration);
1118   4                          LCD_Position(1,6);
1119   4                          LCD_PrintString("   ");
1120   4                          LCD_Position(1,6);
1121   4                      }else{
1122   4                                      
1123   4                          LCD_Position(1,0);
1124   4                          LCD_PrintDecUint16(duration);
1125   4                          LCD_Position(1,6); 
1126   4                      }
1127   3                      LCD_PrintNumber(auigreenduration[1]);
1128   3                      LCD_Position(1,9);
1129   3                      LCD_PrintString("PressLeftBut");
1130   3                      
1131   3                  }else if(Switch1PressCount == 3){
1132   3                      
1133   3                      LCD_Position(0,0);
1134   3                      LCD_PrintString("DownLaneGreenDur  ");
1135   3                      duration =  mapf(result_in_volts, 0, 3.3, 10, 150);
1136   3                      if(duration < ThreeDigitNumber ){
1137   4                          LCD_Position(1,0);
1138   4                          LCD_PrintString("   ");
1139   4                          LCD_Position(1,0);
1140   4                          LCD_PrintDecUint16(duration);
1141   4                          LCD_Position(1,6);
1142   4                          LCD_PrintString("   ");
1143   4                          LCD_Position(1,6);
1144   4                      }else{
1145   4                                      
1146   4                          LCD_Position(1,0);
1147   4                          LCD_PrintDecUint16(duration);
1148   4                          LCD_Position(1,6); 
1149   4                      }
1150   3                      LCD_PrintNumber(auigreenduration[2]);
1151   3                      LCD_Position(1,9);
1152   3                      LCD_PrintString("PressLeftBut");
1153   3                      
1154   3                  }else if(Switch1PressCount == 4){
1155   3                      
1156   3                      LCD_Position(0,0);
1157   3                      LCD_PrintString("LeftLaneGreenDur  ");
1158   3                     duration =  mapf(result_in_volts, 0, 3.3, 10, 150);
1159   3                      if(duration < ThreeDigitNumber ){
1160   4                          LCD_Position(1,0);
1161   4                          LCD_PrintString("   ");
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 20  

1162   4                          LCD_Position(1,0);
1163   4                          LCD_PrintDecUint16(duration);
1164   4                          LCD_Position(1,6);
1165   4                          LCD_PrintString("   ");
1166   4                          LCD_Position(1,6);
1167   4                      }else{
1168   4                                      
1169   4                          LCD_Position(1,0);
1170   4                          LCD_PrintDecUint16(duration);
1171   4                          LCD_Position(1,6); 
1172   4                      }
1173   3                      LCD_PrintNumber(auigreenduration[3]);
1174   3                      LCD_Position(1,9);
1175   3                      LCD_PrintString("PressLeftBut");
1176   3                      
1177   3                  }else{
1178   3                      
1179   3                      
1180   3                  }
1181   2      
1182   2              }else if(CurrentState == Normal){
1183   2                  
1184   2                  
1185   2                  if(Front_Green_LED_Read()== ON){
1186   3                      LCD_Position(0,0);
1187   3                      LCD_PrintString("FTG: ");
1188   3                      LCD_Clearindex(Ftimer);
1189   3                      
1190   3                  } else if(Front_Red_LED_Read()== ON){
1191   3                      LCD_Position(0,0);
1192   3                      LCD_PrintString("FTR: ");
1193   3                      LCD_Clearindex(Ftimer);
1194   3           
1195   3                  }else if(Front_Amber_LED_Read()== ON){
1196   3                      LCD_Position(0,0);
1197   3                      LCD_PrintString("FTA: ");
1198   3                      LCD_Clearindex(Ftimer);
1199   3                      
1200   3                  }
1201   2                  
1202   2                  if(Right_Green_LED_Read()== ON){
1203   3                      LCD_Position(0,8);
1204   3                      LCD_PrintString("RTG: ");
1205   3                      LCD_Clearindex(Rtimer);
1206   3                      
1207   3                  }else if(Right_Red_LED_Read()== ON){
1208   3                      LCD_Position(0,8);
1209   3                      LCD_PrintString("RTR: ");
1210   3                      LCD_Clearindex(Rtimer);
1211   3                      
1212   3                  }else if(Right_Amber_LED_Read()== ON){
1213   3                      LCD_Position(0,8);
1214   3                      LCD_PrintString("RTA: ");
1215   3                      LCD_Clearindex(Rtimer);
1216   3                      
1217   3                  }
1218   2                  
1219   2                  if( Left_Green_LED_Read() == ON){
1220   3                      LCD_Position(1,0);
1221   3                      LCD_PrintString("LTG: ");
1222   3                      LCD_Clearindex(Ltimer);
1223   3                      
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 21  

1224   3                  }else if( Left_Red_LED_Read() == ON){
1225   3                      LCD_Position(1,0);
1226   3                      LCD_PrintString("LTR: ");
1227   3                      LCD_Clearindex(Ltimer);
1228   3                      
1229   3                  }else if( Left_Amber_LED_Read() == ON){
1230   3                      LCD_Position(1,0);
1231   3                      LCD_PrintString("LTA: ");
1232   3                      LCD_Clearindex(Ltimer);
1233   3                      
1234   3                  }
1235   2                  
1236   2                  if( Green_LED_Read()== ON){
1237   3                      LCD_Position(1,8);
1238   3                      LCD_PrintString("DTG: ");
1239   3                      LCD_Clearindex(Dtimer);
1240   3                      
1241   3                  }else if( Red_LED_Read()== ON){
1242   3                      LCD_Position(1,8);
1243   3                      LCD_PrintString("DTR: ");
1244   3                      LCD_Clearindex(Dtimer);
1245   3                      
1246   3                  }else if(Amber_LED_Read()== ON){
1247   3                      LCD_Position(1,8);
1248   3                      LCD_PrintString("DTA: ");
1249   3                      LCD_Clearindex(Dtimer);
1250   3                      
1251   3                  }
1252   2                   
1253   2              } 
1254   1              else if(CurrentState == Afterhours){
1255   2                  
1256   2                      LCD_Position(0,3);
1257   2                      LCD_PrintString("Night Mode");
1258   2              }
1259   1      
1260   1              
1261   1      }
1262          /* [] END OF FILE */
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 22  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 113
                                           ; SOURCE LINE # 114
                                           ; SOURCE LINE # 116
0000 D2AF              SETB    EA
0002 9044F4            MOV     DPTR,#044F4H
0005 74FD              MOV     A,#0FDH
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 117
0008 120000      R     LCALL   Start_AllModules
                                           ; SOURCE LINE # 123
000B         ?C0001:
                                           ; SOURCE LINE # 124
                                           ; SOURCE LINE # 126
000B 120000      E     LCALL   UART_Read
                                           ; SOURCE LINE # 128
000E 900000      R     MOV     DPTR,#CurrentState
0011 E0                MOVX    A,@DPTR
0012 FF                MOV     R7,A
0013 EF                MOV     A,R7
0014 B4010F            CJNE    A,#01H,?C0003
                                           ; SOURCE LINE # 130
0017 900000      R     MOV     DPTR,#Switch2CaptureFlag
001A E0                MOVX    A,@DPTR
001B FF                MOV     R7,A
001C EF                MOV     A,R7
001D 6020              JZ      ?C0005
                                           ; SOURCE LINE # 131
001F 900000      R     MOV     DPTR,#Switch2CaptureFlag
0022 E4                CLR     A
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 132
                                           ; SOURCE LINE # 134
0024 8019              SJMP    ?C0005
0026         ?C0003:
                                           ; SOURCE LINE # 135
0026 900000      R     MOV     DPTR,#Switch2CaptureFlag
0029 E0                MOVX    A,@DPTR
002A FF                MOV     R7,A
002B EF                MOV     A,R7
002C 6011              JZ      ?C0005
                                           ; SOURCE LINE # 136
002E 900000      R     MOV     DPTR,#Switch2CaptureFlag
0031 E4                CLR     A
0032 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 137
0033 900000      R     MOV     DPTR,#LightSettingFlag
0036 E0                MOVX    A,@DPTR
0037 04                INC     A
0038 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 138
0039 120000      E     LCALL   SW_ISR2_ClearPending
                                           ; SOURCE LINE # 139
003C 120000      R     LCALL   Mode_Selection
                                           ; SOURCE LINE # 140
                                           ; SOURCE LINE # 141
003F         ?C0005:
                                           ; SOURCE LINE # 144
003F 900000      R     MOV     DPTR,#Mode
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 23  

0042 E0                MOVX    A,@DPTR
0043 FF                MOV     R7,A
0044 EF                MOV     A,R7
0045 B40108            CJNE    A,#01H,?C0007
                                           ; SOURCE LINE # 146
0048 120000      R     LCALL   Settingmode_Operation
                                           ; SOURCE LINE # 148
004B 120000      R     LCALL   SettingModeLED_Operation
                                           ; SOURCE LINE # 150
004E 80BB              SJMP    ?C0001
0050         ?C0007:
0050 900000      R     MOV     DPTR,#Mode
0053 E0                MOVX    A,@DPTR
0054 FF                MOV     R7,A
0055 EF                MOV     A,R7
0056 B402B2            CJNE    A,#02H,?C0001
                                           ; SOURCE LINE # 152
0059 120000      R     LCALL   Workingmode_Operation
                                           ; SOURCE LINE # 153
                                           ; SOURCE LINE # 155
005C 80AD              SJMP    ?C0001
005E 22                RET     
             ; FUNCTION main (END)

             ; FUNCTION Start_AllModules (BEGIN)
                                           ; SOURCE LINE # 175
                                           ; SOURCE LINE # 177
0000 120000      E     LCALL   ADC_Start
                                           ; SOURCE LINE # 178
0003 120000      E     LCALL   ADC_StartConvert
                                           ; SOURCE LINE # 179
0006 120000      E     LCALL   LED_UpdateTimer_Start
                                           ; SOURCE LINE # 180
0009 120000      E     LCALL   LED_UpdateISR_Start
                                           ; SOURCE LINE # 181
000C 120000      E     LCALL   EEPROM_Start
                                           ; SOURCE LINE # 182
000F 120000      E     LCALL   SW_ISR1_Start
                                           ; SOURCE LINE # 183
0012 120000      E     LCALL   SW_ISR2_Start
                                           ; SOURCE LINE # 184
0015 120000      E     LCALL   UART_Start_Operation
                                           ; SOURCE LINE # 185
0018 120000      E     LCALL   LCD_Start
                                           ; SOURCE LINE # 186
001B 120000      R     LCALL   Initialize
                                           ; SOURCE LINE # 188
001E 22                RET     
             ; FUNCTION Start_AllModules (END)

             ; FUNCTION Mode_Selection (BEGIN)
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 208
0000 900000      R     MOV     DPTR,#LightSettingFlag
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 B40112            CJNE    A,#01H,?C0012
                                           ; SOURCE LINE # 210
0009 900000      R     MOV     DPTR,#Mode
000C 7401              MOV     A,#01H
000E F0                MOVX    @DPTR,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 24  

                                           ; SOURCE LINE # 211
000F 120000      R     LCALL   SettingModeLED_Operation
                                           ; SOURCE LINE # 212
0012 7F01              MOV     R7,#01H
0014 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 213
0017 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 215
001A 22                RET     
001B         ?C0012:
                                           ; SOURCE LINE # 216
001B 900000      R     MOV     DPTR,#LightSettingFlag
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 EF                MOV     A,R7
0021 B4032E            CJNE    A,#03H,?C0015
                                           ; SOURCE LINE # 218
0024 900000      R     MOV     DPTR,#LightSettingFlag
0027 E4                CLR     A
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 219
0029 900000      R     MOV     DPTR,#Switch1PressCount
002C E4                CLR     A
002D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 220
002E 900000      R     MOV     DPTR,#EEPROMWriteFlag
0031 7401              MOV     A,#01H
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 221
0034 900000      R     MOV     DPTR,#EEPROMWriteFlag
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 7E00              MOV     R6,#00H
003B 900000      R     MOV     DPTR,#auigreenduration+08H
003E EE                MOV     A,R6
003F F0                MOVX    @DPTR,A
0040 A3                INC     DPTR
0041 EF                MOV     A,R7
0042 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 222
0043 7F00              MOV     R7,#00H
0045 7E00              MOV     R6,#00H
0047 120000      R     LCALL   _EEPROM_WriteFunction
                                           ; SOURCE LINE # 223
004A 7F01              MOV     R7,#01H
004C 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 224
004F 120000      R     LCALL   Initialize
                                           ; SOURCE LINE # 225
                                           ; SOURCE LINE # 226
0052         ?C0015:
0052 22                RET     
             ; FUNCTION Mode_Selection (END)

             ; FUNCTION Initialize (BEGIN)
                                           ; SOURCE LINE # 244
                                           ; SOURCE LINE # 246
0000 900000      R     MOV     DPTR,#CurrentState
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 247
0005 900000      R     MOV     DPTR,#Mode
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 25  

0008 7402              MOV     A,#02H
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 248
000B 900000      R     MOV     DPTR,#LightCurrentState
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 249
0010 900000      R     MOV     DPTR,#LightPreviousState
0013 E4                CLR     A
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 250
0015 900000      R     MOV     DPTR,#InitialCount
0018 7401              MOV     A,#01H
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 255
001B 7D05              MOV     R5,#05H
001D 7C00              MOV     R4,#00H
001F 7F00              MOV     R7,#00H
0021 7E00              MOV     R6,#00H
0023 120000      R     LCALL   _EEPROM_Read
                                           ; SOURCE LINE # 257
0026 900000      R     MOV     DPTR,#auigreenduration+08H
0029 E0                MOVX    A,@DPTR
002A FE                MOV     R6,A
002B A3                INC     DPTR
002C E0                MOVX    A,@DPTR
002D FF                MOV     R7,A
002E EF                MOV     A,R7
002F 4E                ORL     A,R6
0030 7007              JNZ     ?C0016
                                           ; SOURCE LINE # 259
0032 7F00              MOV     R7,#00H
0034 7E00              MOV     R6,#00H
0036 120000      R     LCALL   _EEPROM_WriteFunction
                                           ; SOURCE LINE # 260
0039         ?C0016:
                                           ; SOURCE LINE # 262
0039 120000      R     LCALL   RedDuration_Calculation
                                           ; SOURCE LINE # 263
003C 7F01              MOV     R7,#01H
003E 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 264
0041 900000      R     MOV     DPTR,#FRedLEDState
0044 7401              MOV     A,#01H
0046 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 265
0047 7F01              MOV     R7,#01H
0049 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 266
004C 900000      R     MOV     DPTR,#RRedLEDState
004F 7401              MOV     A,#01H
0051 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 267
0052 7F01              MOV     R7,#01H
0054 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 268
0057 900000      R     MOV     DPTR,#DRedLEDState
005A 7401              MOV     A,#01H
005C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 269
005D 7F01              MOV     R7,#01H
005F 120000      E     LCALL   _Left_Red_LED_Write
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 26  

                                           ; SOURCE LINE # 270
0062 900000      R     MOV     DPTR,#LRedLEDState
0065 7401              MOV     A,#01H
0067 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 272
0068 22                RET     
             ; FUNCTION Initialize (END)

             ; FUNCTION _LED_Operation (BEGIN)
                                           ; SOURCE LINE # 291
0000 900000      R     MOV     DPTR,#onoff
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 293
0005 900000      R     MOV     DPTR,#onoff
0008 E0                MOVX    A,@DPTR
0009 FF                MOV     R7,A
000A 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 294
000D 900000      R     MOV     DPTR,#onoff
0010 E0                MOVX    A,@DPTR
0011 FF                MOV     R7,A
0012 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 295
0015 900000      R     MOV     DPTR,#onoff
0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 297
001D 900000      R     MOV     DPTR,#onoff
0020 E0                MOVX    A,@DPTR
0021 FF                MOV     R7,A
0022 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 298
0025 900000      R     MOV     DPTR,#onoff
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 299
002D 900000      R     MOV     DPTR,#onoff
0030 E0                MOVX    A,@DPTR
0031 FF                MOV     R7,A
0032 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 301
0035 900000      R     MOV     DPTR,#onoff
0038 E0                MOVX    A,@DPTR
0039 FF                MOV     R7,A
003A 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 302
003D 900000      R     MOV     DPTR,#onoff
0040 E0                MOVX    A,@DPTR
0041 FF                MOV     R7,A
0042 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 303
0045 900000      R     MOV     DPTR,#onoff
0048 E0                MOVX    A,@DPTR
0049 FF                MOV     R7,A
004A 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 305
004D 900000      R     MOV     DPTR,#onoff
0050 E0                MOVX    A,@DPTR
0051 FF                MOV     R7,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 27  

0052 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 306
0055 900000      R     MOV     DPTR,#onoff
0058 E0                MOVX    A,@DPTR
0059 FF                MOV     R7,A
005A 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 307
005D 900000      R     MOV     DPTR,#onoff
0060 E0                MOVX    A,@DPTR
0061 FF                MOV     R7,A
0062 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 308
0065 22                RET     
             ; FUNCTION _LED_Operation (END)

             ; FUNCTION LED_Status (BEGIN)
                                           ; SOURCE LINE # 327
                                           ; SOURCE LINE # 329
0000 900000      R     MOV     DPTR,#CurrentState
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 7019              JNZ     ?C0019
                                           ; SOURCE LINE # 330
0008 900000      R     MOV     DPTR,#LightCurrentState
000B E0                MOVX    A,@DPTR
000C FF                MOV     R7,A
000D 900000      R     MOV     DPTR,#LightPreviousState
0010 EF                MOV     A,R7
0011 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 331
0012 7F01              MOV     R7,#01H
0014 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 332
0017 900000      R     MOV     DPTR,#CurrentState
001A 7401              MOV     A,#01H
001C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 333
001D 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 335
0020 22                RET     
0021         ?C0019:
0021 900000      R     MOV     DPTR,#CurrentState
0024 E0                MOVX    A,@DPTR
0025 FF                MOV     R7,A
0026 EF                MOV     A,R7
0027 6401              XRL     A,#01H
0029 706F              JNZ     ?C0023
                                           ; SOURCE LINE # 337
002B 900000      R     MOV     DPTR,#CurrentState
002E E4                CLR     A
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 338
0030 900000      R     MOV     DPTR,#LightPreviousState
0033 E0                MOVX    A,@DPTR
0034 FF                MOV     R7,A
0035 900000      R     MOV     DPTR,#LightCurrentState
0038 EF                MOV     A,R7
0039 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 341
003A 900000      R     MOV     DPTR,#FRedLEDState
003D E0                MOVX    A,@DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 28  

003E FF                MOV     R7,A
003F 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 342
0042 900000      R     MOV     DPTR,#FAmberLEDState
0045 E0                MOVX    A,@DPTR
0046 FF                MOV     R7,A
0047 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 343
004A 900000      R     MOV     DPTR,#FGreenLEDState
004D E0                MOVX    A,@DPTR
004E FF                MOV     R7,A
004F 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 344
0052 900000      R     MOV     DPTR,#RRedLEDState
0055 E0                MOVX    A,@DPTR
0056 FF                MOV     R7,A
0057 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 345
005A 900000      R     MOV     DPTR,#RAmberLEDState
005D E0                MOVX    A,@DPTR
005E FF                MOV     R7,A
005F 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 346
0062 900000      R     MOV     DPTR,#RGreenLEDState
0065 E0                MOVX    A,@DPTR
0066 FF                MOV     R7,A
0067 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 347
006A 900000      R     MOV     DPTR,#DRedLEDState
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 348
0072 900000      R     MOV     DPTR,#DAmberLEDState
0075 E0                MOVX    A,@DPTR
0076 FF                MOV     R7,A
0077 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 349
007A 900000      R     MOV     DPTR,#DGreenLEDState
007D E0                MOVX    A,@DPTR
007E FF                MOV     R7,A
007F 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 350
0082 900000      R     MOV     DPTR,#LRedLEDState
0085 E0                MOVX    A,@DPTR
0086 FF                MOV     R7,A
0087 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 351
008A 900000      R     MOV     DPTR,#LAmberLEDState
008D E0                MOVX    A,@DPTR
008E FF                MOV     R7,A
008F 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 352
0092 900000      R     MOV     DPTR,#LGreenLEDState
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 354
                                           ; SOURCE LINE # 357
                                           ; SOURCE LINE # 359
009A         ?C0023:
009A 22                RET     
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 29  

             ; FUNCTION LED_Status (END)

             ; FUNCTION _mapf (BEGIN)
                                           ; SOURCE LINE # 378
0000 900000      R     MOV     DPTR,#val
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 379
0006 900000      R     MOV     DPTR,#out_min
0009 120000      E     LCALL   ?C?LLDXDATA0
000C 900000      R     MOV     DPTR,#out_max
000F 120000      E     LCALL   ?C?LLDXDATA
0012 120000      E     LCALL   ?C?FPSUB
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
001D 900000      R     MOV     DPTR,#in_min
0020 120000      E     LCALL   ?C?LLDXDATA0
0023 900000      R     MOV     DPTR,#val
0026 120000      E     LCALL   ?C?LLDXDATA
0029 120000      E     LCALL   ?C?FPSUB
002C A804              MOV     R0,AR4
002E A905              MOV     R1,AR5
0030 AA06              MOV     R2,AR6
0032 AB07              MOV     R3,AR7
0034 D007              POP     AR7
0036 D006              POP     AR6
0038 D005              POP     AR5
003A D004              POP     AR4
003C 120000      E     LCALL   ?C?FPMUL
003F C004              PUSH    AR4
0041 C005              PUSH    AR5
0043 C006              PUSH    AR6
0045 C007              PUSH    AR7
0047 900000      R     MOV     DPTR,#in_min
004A 120000      E     LCALL   ?C?LLDXDATA0
004D 900000      R     MOV     DPTR,#in_max
0050 120000      E     LCALL   ?C?LLDXDATA
0053 120000      E     LCALL   ?C?FPSUB
0056 A804              MOV     R0,AR4
0058 A905              MOV     R1,AR5
005A AA06              MOV     R2,AR6
005C AB07              MOV     R3,AR7
005E D007              POP     AR7
0060 D006              POP     AR6
0062 D005              POP     AR5
0064 D004              POP     AR4
0066 120000      E     LCALL   ?C?FPDIV
0069 900000      R     MOV     DPTR,#out_min
006C 120000      E     LCALL   ?C?LLDXDATA0
006F 120000      E     LCALL   ?C?FPADD
                                           ; SOURCE LINE # 380
0072         ?C0024:
0072 22                RET     
             ; FUNCTION _mapf (END)

             ; FUNCTION DurationSetting_Operation (BEGIN)
                                           ; SOURCE LINE # 399
0000         ?C0025:
                                           ; SOURCE LINE # 401
0000 7F00              MOV     R7,#00H
0002 120000      E     LCALL   _ADC_IsEndConversion
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 30  

0005 EF                MOV     A,R7
0006 60F8              JZ      ?C0025
0008         ?C0026:
                                           ; SOURCE LINE # 402
0008 120000      E     LCALL   ADC_GetResult16
000B 900000      R     MOV     DPTR,#my_ADC_counts
000E EE                MOV     A,R6
000F F0                MOVX    @DPTR,A
0010 A3                INC     DPTR
0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 403
0013 900000      R     MOV     DPTR,#my_ADC_counts
0016 E0                MOVX    A,@DPTR
0017 FE                MOV     R6,A
0018 A3                INC     DPTR
0019 E0                MOVX    A,@DPTR
001A FF                MOV     R7,A
001B E4                CLR     A
001C FC                MOV     R4,A
001D FD                MOV     R5,A
001E 120000      E     LCALL   _ADC_CountsTo_Volts
0021 900000      R     MOV     DPTR,#result_in_volts
0024 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 406
0027 22                RET     
             ; FUNCTION DurationSetting_Operation (END)

             ; FUNCTION Settingmode_Operation (BEGIN)
                                           ; SOURCE LINE # 425
                                           ; SOURCE LINE # 427
0000 900000      R     MOV     DPTR,#Switch1CaptureFlag
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 600E              JZ      ?C0028
                                           ; SOURCE LINE # 428
0008 900000      R     MOV     DPTR,#Switch1PressCount
000B E0                MOVX    A,@DPTR
000C 04                INC     A
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 429
000E 900000      R     MOV     DPTR,#Switch1CaptureFlag
0011 E4                CLR     A
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 430
0013 120000      E     LCALL   SW_ISR1_ClearPending
                                           ; SOURCE LINE # 431
0016         ?C0028:
                                           ; SOURCE LINE # 432
0016 900000      R     MOV     DPTR,#Switch1PressCount
0019 E0                MOVX    A,@DPTR
001A FF                MOV     R7,A
001B EF                MOV     A,R7
001C 6401              XRL     A,#01H
001E 6003              JZ      $ + 5H
0020 020000      R     LJMP    ?C0029
                                           ; SOURCE LINE # 434
0023 120000      R     LCALL   DurationSetting_Operation
                                           ; SOURCE LINE # 435
0026 900000      R     MOV     DPTR,#LightSettingFlag
0029 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 31  

002A FF                MOV     R7,A
002B EF                MOV     A,R7
002C 6402              XRL     A,#02H
002E 7072              JNZ     ?C0030
                                           ; SOURCE LINE # 436
0030 900000      R     MOV     DPTR,#LightSettingFlag
0033 7401              MOV     A,#01H
0035 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 439
0036 900000      R     MOV     DPTR,#result_in_volts
0039 120000      E     LCALL   ?C?LLDXDATA
003C C004              PUSH    AR4
003E C005              PUSH    AR5
0040 C006              PUSH    AR6
0042 C007              PUSH    AR7
0044 7F00              MOV     R7,#00H
0046 7E00              MOV     R6,#00H
0048 7D00              MOV     R5,#00H
004A 7C00              MOV     R4,#00H
004C 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
004F 120000      E     LCALL   ?C?LSTXDATA
0052 7F33              MOV     R7,#033H
0054 7E33              MOV     R6,#033H
0056 7D53              MOV     R5,#053H
0058 7C40              MOV     R4,#040H
005A 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
005D 120000      E     LCALL   ?C?LSTXDATA
0060 7F00              MOV     R7,#00H
0062 7E00              MOV     R6,#00H
0064 7D20              MOV     R5,#020H
0066 7C41              MOV     R4,#041H
0068 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
006B 120000      E     LCALL   ?C?LSTXDATA
006E 7F00              MOV     R7,#00H
0070 7E00              MOV     R6,#00H
0072 7D16              MOV     R5,#016H
0074 7C43              MOV     R4,#043H
0076 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
0079 120000      E     LCALL   ?C?LSTXDATA
007C D007              POP     AR7
007E D006              POP     AR6
0080 D005              POP     AR5
0082 D004              POP     AR4
0084 120000      R     LCALL   _mapf
0087 120000      E     LCALL   ?C?CASTF
008A 900000      R     MOV     DPTR,#FGREEN_DURATION
008D EE                MOV     A,R6
008E F0                MOVX    @DPTR,A
008F A3                INC     DPTR
0090 EF                MOV     A,R7
0091 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 440
0092 900000      R     MOV     DPTR,#FGREEN_DURATION
0095 E0                MOVX    A,@DPTR
0096 FE                MOV     R6,A
0097 A3                INC     DPTR
0098 E0                MOVX    A,@DPTR
0099 FF                MOV     R7,A
009A 900000      R     MOV     DPTR,#auigreenduration
009D EE                MOV     A,R6
009E F0                MOVX    @DPTR,A
009F A3                INC     DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 32  

00A0 EF                MOV     A,R7
00A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 442
00A2         ?C0030:
                                           ; SOURCE LINE # 450
00A2 7F01              MOV     R7,#01H
00A4 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 451
00A7 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 453
00AA 22                RET     
00AB         ?C0029:
00AB 900000      R     MOV     DPTR,#Switch1PressCount
00AE E0                MOVX    A,@DPTR
00AF FF                MOV     R7,A
00B0 EF                MOV     A,R7
00B1 6402              XRL     A,#02H
00B3 6003              JZ      $ + 5H
00B5 020000      R     LJMP    ?C0032
                                           ; SOURCE LINE # 455
00B8 120000      R     LCALL   DurationSetting_Operation
                                           ; SOURCE LINE # 456
00BB 900000      R     MOV     DPTR,#LightSettingFlag
00BE E0                MOVX    A,@DPTR
00BF FF                MOV     R7,A
00C0 EF                MOV     A,R7
00C1 6402              XRL     A,#02H
00C3 7072              JNZ     ?C0033
                                           ; SOURCE LINE # 457
00C5 900000      R     MOV     DPTR,#LightSettingFlag
00C8 7401              MOV     A,#01H
00CA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 458
00CB 900000      R     MOV     DPTR,#result_in_volts
00CE 120000      E     LCALL   ?C?LLDXDATA
00D1 C004              PUSH    AR4
00D3 C005              PUSH    AR5
00D5 C006              PUSH    AR6
00D7 C007              PUSH    AR7
00D9 7F00              MOV     R7,#00H
00DB 7E00              MOV     R6,#00H
00DD 7D00              MOV     R5,#00H
00DF 7C00              MOV     R4,#00H
00E1 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
00E4 120000      E     LCALL   ?C?LSTXDATA
00E7 7F33              MOV     R7,#033H
00E9 7E33              MOV     R6,#033H
00EB 7D53              MOV     R5,#053H
00ED 7C40              MOV     R4,#040H
00EF 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
00F2 120000      E     LCALL   ?C?LSTXDATA
00F5 7F00              MOV     R7,#00H
00F7 7E00              MOV     R6,#00H
00F9 7D20              MOV     R5,#020H
00FB 7C41              MOV     R4,#041H
00FD 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
0100 120000      E     LCALL   ?C?LSTXDATA
0103 7F00              MOV     R7,#00H
0105 7E00              MOV     R6,#00H
0107 7D16              MOV     R5,#016H
0109 7C43              MOV     R4,#043H
010B 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 33  

010E 120000      E     LCALL   ?C?LSTXDATA
0111 D007              POP     AR7
0113 D006              POP     AR6
0115 D005              POP     AR5
0117 D004              POP     AR4
0119 120000      R     LCALL   _mapf
011C 120000      E     LCALL   ?C?CASTF
011F 900000      R     MOV     DPTR,#RGREEN_DURATION
0122 EE                MOV     A,R6
0123 F0                MOVX    @DPTR,A
0124 A3                INC     DPTR
0125 EF                MOV     A,R7
0126 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 459
0127 900000      R     MOV     DPTR,#RGREEN_DURATION
012A E0                MOVX    A,@DPTR
012B FE                MOV     R6,A
012C A3                INC     DPTR
012D E0                MOVX    A,@DPTR
012E FF                MOV     R7,A
012F 900000      R     MOV     DPTR,#auigreenduration+02H
0132 EE                MOV     A,R6
0133 F0                MOVX    @DPTR,A
0134 A3                INC     DPTR
0135 EF                MOV     A,R7
0136 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 461
0137         ?C0033:
                                           ; SOURCE LINE # 462
0137 7F01              MOV     R7,#01H
0139 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 463
013C 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 465
013F 22                RET     
0140         ?C0032:
0140 900000      R     MOV     DPTR,#Switch1PressCount
0143 E0                MOVX    A,@DPTR
0144 FF                MOV     R7,A
0145 EF                MOV     A,R7
0146 6403              XRL     A,#03H
0148 6003              JZ      $ + 5H
014A 020000      R     LJMP    ?C0035
                                           ; SOURCE LINE # 467
014D 120000      R     LCALL   DurationSetting_Operation
                                           ; SOURCE LINE # 468
0150 900000      R     MOV     DPTR,#LightSettingFlag
0153 E0                MOVX    A,@DPTR
0154 FF                MOV     R7,A
0155 EF                MOV     A,R7
0156 6402              XRL     A,#02H
0158 7072              JNZ     ?C0036
                                           ; SOURCE LINE # 469
015A 900000      R     MOV     DPTR,#LightSettingFlag
015D 7401              MOV     A,#01H
015F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 470
0160 900000      R     MOV     DPTR,#result_in_volts
0163 120000      E     LCALL   ?C?LLDXDATA
0166 C004              PUSH    AR4
0168 C005              PUSH    AR5
016A C006              PUSH    AR6
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 34  

016C C007              PUSH    AR7
016E 7F00              MOV     R7,#00H
0170 7E00              MOV     R6,#00H
0172 7D00              MOV     R5,#00H
0174 7C00              MOV     R4,#00H
0176 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
0179 120000      E     LCALL   ?C?LSTXDATA
017C 7F33              MOV     R7,#033H
017E 7E33              MOV     R6,#033H
0180 7D53              MOV     R5,#053H
0182 7C40              MOV     R4,#040H
0184 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
0187 120000      E     LCALL   ?C?LSTXDATA
018A 7F00              MOV     R7,#00H
018C 7E00              MOV     R6,#00H
018E 7D20              MOV     R5,#020H
0190 7C41              MOV     R4,#041H
0192 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
0195 120000      E     LCALL   ?C?LSTXDATA
0198 7F00              MOV     R7,#00H
019A 7E00              MOV     R6,#00H
019C 7D16              MOV     R5,#016H
019E 7C43              MOV     R4,#043H
01A0 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
01A3 120000      E     LCALL   ?C?LSTXDATA
01A6 D007              POP     AR7
01A8 D006              POP     AR6
01AA D005              POP     AR5
01AC D004              POP     AR4
01AE 120000      R     LCALL   _mapf
01B1 120000      E     LCALL   ?C?CASTF
01B4 900000      R     MOV     DPTR,#DGREEN_DURATION
01B7 EE                MOV     A,R6
01B8 F0                MOVX    @DPTR,A
01B9 A3                INC     DPTR
01BA EF                MOV     A,R7
01BB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 471
01BC 900000      R     MOV     DPTR,#DGREEN_DURATION
01BF E0                MOVX    A,@DPTR
01C0 FE                MOV     R6,A
01C1 A3                INC     DPTR
01C2 E0                MOVX    A,@DPTR
01C3 FF                MOV     R7,A
01C4 900000      R     MOV     DPTR,#auigreenduration+04H
01C7 EE                MOV     A,R6
01C8 F0                MOVX    @DPTR,A
01C9 A3                INC     DPTR
01CA EF                MOV     A,R7
01CB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 473
01CC         ?C0036:
                                           ; SOURCE LINE # 474
01CC 7F01              MOV     R7,#01H
01CE 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 475
01D1 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 477
01D4 22                RET     
01D5         ?C0035:
01D5 900000      R     MOV     DPTR,#Switch1PressCount
01D8 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 35  

01D9 FF                MOV     R7,A
01DA EF                MOV     A,R7
01DB 6404              XRL     A,#04H
01DD 6003              JZ      $ + 5H
01DF 020000      R     LJMP    ?C0038
                                           ; SOURCE LINE # 479
01E2 120000      R     LCALL   DurationSetting_Operation
                                           ; SOURCE LINE # 480
01E5 900000      R     MOV     DPTR,#LightSettingFlag
01E8 E0                MOVX    A,@DPTR
01E9 FF                MOV     R7,A
01EA EF                MOV     A,R7
01EB 6402              XRL     A,#02H
01ED 7072              JNZ     ?C0039
                                           ; SOURCE LINE # 481
01EF 900000      R     MOV     DPTR,#LightSettingFlag
01F2 7401              MOV     A,#01H
01F4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 482
01F5 900000      R     MOV     DPTR,#result_in_volts
01F8 120000      E     LCALL   ?C?LLDXDATA
01FB C004              PUSH    AR4
01FD C005              PUSH    AR5
01FF C006              PUSH    AR6
0201 C007              PUSH    AR7
0203 7F00              MOV     R7,#00H
0205 7E00              MOV     R6,#00H
0207 7D00              MOV     R5,#00H
0209 7C00              MOV     R4,#00H
020B 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
020E 120000      E     LCALL   ?C?LSTXDATA
0211 7F33              MOV     R7,#033H
0213 7E33              MOV     R6,#033H
0215 7D53              MOV     R5,#053H
0217 7C40              MOV     R4,#040H
0219 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
021C 120000      E     LCALL   ?C?LSTXDATA
021F 7F00              MOV     R7,#00H
0221 7E00              MOV     R6,#00H
0223 7D20              MOV     R5,#020H
0225 7C41              MOV     R4,#041H
0227 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
022A 120000      E     LCALL   ?C?LSTXDATA
022D 7F00              MOV     R7,#00H
022F 7E00              MOV     R6,#00H
0231 7D16              MOV     R5,#016H
0233 7C43              MOV     R4,#043H
0235 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
0238 120000      E     LCALL   ?C?LSTXDATA
023B D007              POP     AR7
023D D006              POP     AR6
023F D005              POP     AR5
0241 D004              POP     AR4
0243 120000      R     LCALL   _mapf
0246 120000      E     LCALL   ?C?CASTF
0249 900000      R     MOV     DPTR,#LGREEN_DURATION
024C EE                MOV     A,R6
024D F0                MOVX    @DPTR,A
024E A3                INC     DPTR
024F EF                MOV     A,R7
0250 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 483
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 36  

0251 900000      R     MOV     DPTR,#LGREEN_DURATION
0254 E0                MOVX    A,@DPTR
0255 FE                MOV     R6,A
0256 A3                INC     DPTR
0257 E0                MOVX    A,@DPTR
0258 FF                MOV     R7,A
0259 900000      R     MOV     DPTR,#auigreenduration+06H
025C EE                MOV     A,R6
025D F0                MOVX    @DPTR,A
025E A3                INC     DPTR
025F EF                MOV     A,R7
0260 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 485
0261         ?C0039:
                                           ; SOURCE LINE # 486
0261 7F01              MOV     R7,#01H
0263 120000      E     LCALL   _LCD_WriteControl
                                           ; SOURCE LINE # 487
0266 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 489
0269 22                RET     
026A         ?C0038:
                                           ; SOURCE LINE # 490
026A 900000      R     MOV     DPTR,#Switch1PressCount
026D E4                CLR     A
026E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 491
                                           ; SOURCE LINE # 492
026F         ?C0041:
026F 22                RET     
             ; FUNCTION Settingmode_Operation (END)

             ; FUNCTION Workingmode_Operation (BEGIN)
                                           ; SOURCE LINE # 511
                                           ; SOURCE LINE # 513
0000 900000      R     MOV     DPTR,#Switch1CaptureFlag
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 600B              JZ      ?C0042
                                           ; SOURCE LINE # 514
0008 900000      R     MOV     DPTR,#Switch1CaptureFlag
000B E4                CLR     A
000C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 515
000D 120000      E     LCALL   SW_ISR1_ClearPending
                                           ; SOURCE LINE # 516
0010 120000      R     LCALL   LED_Status
                                           ; SOURCE LINE # 517
0013         ?C0042:
                                           ; SOURCE LINE # 518
0013 900000      R     MOV     DPTR,#CurrentState
0016 E0                MOVX    A,@DPTR
0017 FF                MOV     R7,A
0018 EF                MOV     A,R7
0019 7004              JNZ     ?C0043
                                           ; SOURCE LINE # 519
001B 120000      R     LCALL   TrafficLight_Operation
                                           ; SOURCE LINE # 521
001E 22                RET     
001F         ?C0043:
001F 900000      R     MOV     DPTR,#CurrentState
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 37  

0022 E0                MOVX    A,@DPTR
0023 FF                MOV     R7,A
0024 EF                MOV     A,R7
0025 B40103            CJNE    A,#01H,?C0047
                                           ; SOURCE LINE # 523
0028 120000      R     LCALL   Afterhours_Operation
                                           ; SOURCE LINE # 525
                                           ; SOURCE LINE # 527
                                           ; SOURCE LINE # 529
002B         ?C0047:
002B 22                RET     
             ; FUNCTION Workingmode_Operation (END)

             ; FUNCTION TrafficLight_Operation (BEGIN)
                                           ; SOURCE LINE # 548
                                           ; SOURCE LINE # 550
0000 900000      R     MOV     DPTR,#LightCurrentState
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 120000      E     LCALL   ?C?CCASE
0009 0000        R     DW      ?C0049
000B 00                DB      00H
000C 0000        R     DW      ?C0054
000E 01                DB      01H
000F 0000        R     DW      ?C0057
0011 02                DB      02H
0012 0000        R     DW      ?C0060
0014 03                DB      03H
0015 0000        R     DW      ?C0063
0017 04                DB      04H
0018 0000        R     DW      ?C0066
001A 05                DB      05H
001B 0000        R     DW      ?C0069
001D 06                DB      06H
001E 0000        R     DW      ?C0072
0020 07                DB      07H
0021 0000        R     DW      ?C0075
0023 08                DB      08H
0024 0000        R     DW      ?C0078
0026 09                DB      09H
0027 0000        R     DW      ?C0081
0029 0A                DB      0AH
002A 0000        R     DW      ?C0084
002C 0B                DB      0BH
002D 0000              DW      00H
002F 0000        R     DW      ?C0048
                                           ; SOURCE LINE # 551
0031         ?C0049:
                                           ; SOURCE LINE # 552
0031 900000      R     MOV     DPTR,#Ftimer
0034 E0                MOVX    A,@DPTR
0035 FE                MOV     R6,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 EF                MOV     A,R7
003A 4E                ORL     A,R6
003B 6003              JZ      $ + 5H
003D 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 553
0040 900000      R     MOV     DPTR,#InitialCount
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 38  

0043 E0                MOVX    A,@DPTR
0044 FF                MOV     R7,A
0045 EF                MOV     A,R7
0046 6007              JZ      ?C0051
                                           ; SOURCE LINE # 554
0048 900000      R     MOV     DPTR,#InitialCount
004B E4                CLR     A
004C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 555
004D 8010              SJMP    ?C0052
004F         ?C0051:
                                           ; SOURCE LINE # 556
004F 900000      R     MOV     DPTR,#auiredduration+06H
0052 E0                MOVX    A,@DPTR
0053 FE                MOV     R6,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FF                MOV     R7,A
0057 900000      R     MOV     DPTR,#Ltimer
005A EE                MOV     A,R6
005B F0                MOVX    @DPTR,A
005C A3                INC     DPTR
005D EF                MOV     A,R7
005E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 557
005F         ?C0052:
                                           ; SOURCE LINE # 558
005F 900000      R     MOV     DPTR,#Ftimer
0062 E4                CLR     A
0063 F0                MOVX    @DPTR,A
0064 A3                INC     DPTR
0065 7402              MOV     A,#02H
0067 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 559
0068 900000      R     MOV     DPTR,#Ftimer
006B E0                MOVX    A,@DPTR
006C FE                MOV     R6,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FF                MOV     R7,A
0070 EF                MOV     A,R7
0071 6402              XRL     A,#02H
0073 4E                ORL     A,R6
0074 6003              JZ      $ + 5H
0076 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 561
0079 7F00              MOV     R7,#00H
007B 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 562
007E 900000      R     MOV     DPTR,#FRedLEDState
0081 E4                CLR     A
0082 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 564
0083 7F01              MOV     R7,#01H
0085 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 565
0088 900000      R     MOV     DPTR,#FAmberLEDState
008B 7401              MOV     A,#01H
008D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 567
008E 900000      R     MOV     DPTR,#LightCurrentState
0091 7401              MOV     A,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 39  

0093 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 568
                                           ; SOURCE LINE # 569
                                           ; SOURCE LINE # 570
0094 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 571
0097         ?C0054:
                                           ; SOURCE LINE # 572
0097 900000      R     MOV     DPTR,#Ftimer
009A E0                MOVX    A,@DPTR
009B FE                MOV     R6,A
009C A3                INC     DPTR
009D E0                MOVX    A,@DPTR
009E FF                MOV     R7,A
009F EF                MOV     A,R7
00A0 4E                ORL     A,R6
00A1 6003              JZ      $ + 5H
00A3 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 573
00A6 900000      R     MOV     DPTR,#auigreenduration
00A9 E0                MOVX    A,@DPTR
00AA FE                MOV     R6,A
00AB A3                INC     DPTR
00AC E0                MOVX    A,@DPTR
00AD FF                MOV     R7,A
00AE 900000      R     MOV     DPTR,#Ftimer
00B1 EE                MOV     A,R6
00B2 F0                MOVX    @DPTR,A
00B3 A3                INC     DPTR
00B4 EF                MOV     A,R7
00B5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 574
00B6 900000      R     MOV     DPTR,#auigreenduration
00B9 E0                MOVX    A,@DPTR
00BA FE                MOV     R6,A
00BB A3                INC     DPTR
00BC E0                MOVX    A,@DPTR
00BD FF                MOV     R7,A
00BE 900000      R     MOV     DPTR,#Ftimer
00C1 E0                MOVX    A,@DPTR
00C2 FC                MOV     R4,A
00C3 A3                INC     DPTR
00C4 E0                MOVX    A,@DPTR
00C5 FD                MOV     R5,A
00C6 ED                MOV     A,R5
00C7 6F                XRL     A,R7
00C8 7002              JNZ     ?C0168
00CA EC                MOV     A,R4
00CB 6E                XRL     A,R6
00CC         ?C0168:
00CC 6003              JZ      $ + 5H
00CE 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 576
00D1 7F00              MOV     R7,#00H
00D3 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 577
00D6 900000      R     MOV     DPTR,#FAmberLEDState
00D9 E4                CLR     A
00DA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 579
00DB 7F01              MOV     R7,#01H
00DD 120000      E     LCALL   _Front_Green_LED_Write
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 40  

                                           ; SOURCE LINE # 580
00E0 900000      R     MOV     DPTR,#FGreenLEDState
00E3 7401              MOV     A,#01H
00E5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 582
00E6 900000      R     MOV     DPTR,#LightCurrentState
00E9 7402              MOV     A,#02H
00EB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 583
                                           ; SOURCE LINE # 584
                                           ; SOURCE LINE # 586
00EC 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 587
00EF         ?C0057:
                                           ; SOURCE LINE # 588
00EF 900000      R     MOV     DPTR,#Ftimer
00F2 E0                MOVX    A,@DPTR
00F3 FE                MOV     R6,A
00F4 A3                INC     DPTR
00F5 E0                MOVX    A,@DPTR
00F6 FF                MOV     R7,A
00F7 EF                MOV     A,R7
00F8 4E                ORL     A,R6
00F9 6003              JZ      $ + 5H
00FB 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 589
00FE 900000      R     MOV     DPTR,#Ftimer
0101 E4                CLR     A
0102 F0                MOVX    @DPTR,A
0103 A3                INC     DPTR
0104 7402              MOV     A,#02H
0106 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 590
0107 900000      R     MOV     DPTR,#Ftimer
010A E0                MOVX    A,@DPTR
010B FE                MOV     R6,A
010C A3                INC     DPTR
010D E0                MOVX    A,@DPTR
010E FF                MOV     R7,A
010F EF                MOV     A,R7
0110 6402              XRL     A,#02H
0112 4E                ORL     A,R6
0113 6003              JZ      $ + 5H
0115 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 592
0118 7F00              MOV     R7,#00H
011A 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 593
011D 900000      R     MOV     DPTR,#FGreenLEDState
0120 E4                CLR     A
0121 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 595
0122 7F01              MOV     R7,#01H
0124 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 596
0127 900000      R     MOV     DPTR,#FRedLEDState
012A 7401              MOV     A,#01H
012C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 598
012D 900000      R     MOV     DPTR,#LightCurrentState
0130 7403              MOV     A,#03H
0132 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 41  

                                           ; SOURCE LINE # 599
                                           ; SOURCE LINE # 600
                                           ; SOURCE LINE # 602
0133 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 603
0136         ?C0060:
                                           ; SOURCE LINE # 604
0136 900000      R     MOV     DPTR,#Rtimer
0139 E0                MOVX    A,@DPTR
013A FE                MOV     R6,A
013B A3                INC     DPTR
013C E0                MOVX    A,@DPTR
013D FF                MOV     R7,A
013E EF                MOV     A,R7
013F 4E                ORL     A,R6
0140 6003              JZ      $ + 5H
0142 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 605
0145 900000      R     MOV     DPTR,#auiredduration
0148 E0                MOVX    A,@DPTR
0149 FE                MOV     R6,A
014A A3                INC     DPTR
014B E0                MOVX    A,@DPTR
014C FF                MOV     R7,A
014D 900000      R     MOV     DPTR,#Ftimer
0150 EE                MOV     A,R6
0151 F0                MOVX    @DPTR,A
0152 A3                INC     DPTR
0153 EF                MOV     A,R7
0154 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 606
0155 900000      R     MOV     DPTR,#Rtimer
0158 E4                CLR     A
0159 F0                MOVX    @DPTR,A
015A A3                INC     DPTR
015B 7402              MOV     A,#02H
015D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 607
015E 900000      R     MOV     DPTR,#Rtimer
0161 E0                MOVX    A,@DPTR
0162 FE                MOV     R6,A
0163 A3                INC     DPTR
0164 E0                MOVX    A,@DPTR
0165 FF                MOV     R7,A
0166 EF                MOV     A,R7
0167 6402              XRL     A,#02H
0169 4E                ORL     A,R6
016A 6003              JZ      $ + 5H
016C 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 609
016F 7F00              MOV     R7,#00H
0171 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 610
0174 900000      R     MOV     DPTR,#RRedLEDState
0177 E4                CLR     A
0178 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 612
0179 7F01              MOV     R7,#01H
017B 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 613
017E 900000      R     MOV     DPTR,#RAmberLEDState
0181 7401              MOV     A,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 42  

0183 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 615
0184 900000      R     MOV     DPTR,#LightCurrentState
0187 7404              MOV     A,#04H
0189 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 616
                                           ; SOURCE LINE # 617
                                           ; SOURCE LINE # 618
018A 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 619
018D         ?C0063:
                                           ; SOURCE LINE # 620
018D 900000      R     MOV     DPTR,#Rtimer
0190 E0                MOVX    A,@DPTR
0191 FE                MOV     R6,A
0192 A3                INC     DPTR
0193 E0                MOVX    A,@DPTR
0194 FF                MOV     R7,A
0195 EF                MOV     A,R7
0196 4E                ORL     A,R6
0197 6003              JZ      $ + 5H
0199 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 621
019C 900000      R     MOV     DPTR,#auigreenduration+02H
019F E0                MOVX    A,@DPTR
01A0 FE                MOV     R6,A
01A1 A3                INC     DPTR
01A2 E0                MOVX    A,@DPTR
01A3 FF                MOV     R7,A
01A4 900000      R     MOV     DPTR,#Rtimer
01A7 EE                MOV     A,R6
01A8 F0                MOVX    @DPTR,A
01A9 A3                INC     DPTR
01AA EF                MOV     A,R7
01AB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 622
01AC 900000      R     MOV     DPTR,#auigreenduration+02H
01AF E0                MOVX    A,@DPTR
01B0 FE                MOV     R6,A
01B1 A3                INC     DPTR
01B2 E0                MOVX    A,@DPTR
01B3 FF                MOV     R7,A
01B4 900000      R     MOV     DPTR,#Rtimer
01B7 E0                MOVX    A,@DPTR
01B8 FC                MOV     R4,A
01B9 A3                INC     DPTR
01BA E0                MOVX    A,@DPTR
01BB FD                MOV     R5,A
01BC ED                MOV     A,R5
01BD 6F                XRL     A,R7
01BE 7002              JNZ     ?C0169
01C0 EC                MOV     A,R4
01C1 6E                XRL     A,R6
01C2         ?C0169:
01C2 6003              JZ      $ + 5H
01C4 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 624
01C7 7F00              MOV     R7,#00H
01C9 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 625
01CC 900000      R     MOV     DPTR,#RAmberLEDState
01CF E4                CLR     A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 43  

01D0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 627
01D1 7F01              MOV     R7,#01H
01D3 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 628
01D6 900000      R     MOV     DPTR,#RGreenLEDState
01D9 7401              MOV     A,#01H
01DB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 630
01DC 900000      R     MOV     DPTR,#LightCurrentState
01DF 7405              MOV     A,#05H
01E1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 631
                                           ; SOURCE LINE # 632
                                           ; SOURCE LINE # 633
01E2 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 634
01E5         ?C0066:
                                           ; SOURCE LINE # 635
01E5 900000      R     MOV     DPTR,#Rtimer
01E8 E0                MOVX    A,@DPTR
01E9 FE                MOV     R6,A
01EA A3                INC     DPTR
01EB E0                MOVX    A,@DPTR
01EC FF                MOV     R7,A
01ED EF                MOV     A,R7
01EE 4E                ORL     A,R6
01EF 6003              JZ      $ + 5H
01F1 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 636
01F4 900000      R     MOV     DPTR,#Rtimer
01F7 E4                CLR     A
01F8 F0                MOVX    @DPTR,A
01F9 A3                INC     DPTR
01FA 7402              MOV     A,#02H
01FC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 637
01FD 900000      R     MOV     DPTR,#Rtimer
0200 E0                MOVX    A,@DPTR
0201 FE                MOV     R6,A
0202 A3                INC     DPTR
0203 E0                MOVX    A,@DPTR
0204 FF                MOV     R7,A
0205 EF                MOV     A,R7
0206 6402              XRL     A,#02H
0208 4E                ORL     A,R6
0209 6003              JZ      $ + 5H
020B 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 639
020E 7F00              MOV     R7,#00H
0210 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 640
0213 900000      R     MOV     DPTR,#RGreenLEDState
0216 E4                CLR     A
0217 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 642
0218 7F01              MOV     R7,#01H
021A 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 643
021D 900000      R     MOV     DPTR,#RRedLEDState
0220 7401              MOV     A,#01H
0222 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 44  

                                           ; SOURCE LINE # 645
0223 900000      R     MOV     DPTR,#LightCurrentState
0226 7406              MOV     A,#06H
0228 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 646
                                           ; SOURCE LINE # 647
                                           ; SOURCE LINE # 648
0229 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 649
022C         ?C0069:
                                           ; SOURCE LINE # 650
022C 900000      R     MOV     DPTR,#Dtimer
022F E0                MOVX    A,@DPTR
0230 FE                MOV     R6,A
0231 A3                INC     DPTR
0232 E0                MOVX    A,@DPTR
0233 FF                MOV     R7,A
0234 EF                MOV     A,R7
0235 4E                ORL     A,R6
0236 6003              JZ      $ + 5H
0238 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 651
023B 900000      R     MOV     DPTR,#auiredduration+02H
023E E0                MOVX    A,@DPTR
023F FE                MOV     R6,A
0240 A3                INC     DPTR
0241 E0                MOVX    A,@DPTR
0242 FF                MOV     R7,A
0243 900000      R     MOV     DPTR,#Rtimer
0246 EE                MOV     A,R6
0247 F0                MOVX    @DPTR,A
0248 A3                INC     DPTR
0249 EF                MOV     A,R7
024A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 652
024B 900000      R     MOV     DPTR,#Dtimer
024E E4                CLR     A
024F F0                MOVX    @DPTR,A
0250 A3                INC     DPTR
0251 7402              MOV     A,#02H
0253 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 653
0254 900000      R     MOV     DPTR,#Dtimer
0257 E0                MOVX    A,@DPTR
0258 FE                MOV     R6,A
0259 A3                INC     DPTR
025A E0                MOVX    A,@DPTR
025B FF                MOV     R7,A
025C EF                MOV     A,R7
025D 6402              XRL     A,#02H
025F 4E                ORL     A,R6
0260 6003              JZ      $ + 5H
0262 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 655
0265 7F00              MOV     R7,#00H
0267 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 656
026A 900000      R     MOV     DPTR,#DRedLEDState
026D E4                CLR     A
026E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 658
026F 7F01              MOV     R7,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 45  

0271 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 659
0274 900000      R     MOV     DPTR,#DAmberLEDState
0277 7401              MOV     A,#01H
0279 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 661
027A 900000      R     MOV     DPTR,#LightCurrentState
027D 7407              MOV     A,#07H
027F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 662
                                           ; SOURCE LINE # 663
                                           ; SOURCE LINE # 664
0280 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 665
0283         ?C0072:
                                           ; SOURCE LINE # 666
0283 900000      R     MOV     DPTR,#Dtimer
0286 E0                MOVX    A,@DPTR
0287 FE                MOV     R6,A
0288 A3                INC     DPTR
0289 E0                MOVX    A,@DPTR
028A FF                MOV     R7,A
028B EF                MOV     A,R7
028C 4E                ORL     A,R6
028D 6003              JZ      $ + 5H
028F 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 667
0292 900000      R     MOV     DPTR,#auigreenduration+04H
0295 E0                MOVX    A,@DPTR
0296 FE                MOV     R6,A
0297 A3                INC     DPTR
0298 E0                MOVX    A,@DPTR
0299 FF                MOV     R7,A
029A 900000      R     MOV     DPTR,#Dtimer
029D EE                MOV     A,R6
029E F0                MOVX    @DPTR,A
029F A3                INC     DPTR
02A0 EF                MOV     A,R7
02A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 668
02A2 900000      R     MOV     DPTR,#auigreenduration+04H
02A5 E0                MOVX    A,@DPTR
02A6 FE                MOV     R6,A
02A7 A3                INC     DPTR
02A8 E0                MOVX    A,@DPTR
02A9 FF                MOV     R7,A
02AA 900000      R     MOV     DPTR,#Dtimer
02AD E0                MOVX    A,@DPTR
02AE FC                MOV     R4,A
02AF A3                INC     DPTR
02B0 E0                MOVX    A,@DPTR
02B1 FD                MOV     R5,A
02B2 ED                MOV     A,R5
02B3 6F                XRL     A,R7
02B4 7002              JNZ     ?C0170
02B6 EC                MOV     A,R4
02B7 6E                XRL     A,R6
02B8         ?C0170:
02B8 6003              JZ      $ + 5H
02BA 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 670
02BD 7F00              MOV     R7,#00H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 46  

02BF 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 671
02C2 900000      R     MOV     DPTR,#DAmberLEDState
02C5 E4                CLR     A
02C6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 673
02C7 7F01              MOV     R7,#01H
02C9 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 674
02CC 900000      R     MOV     DPTR,#DGreenLEDState
02CF 7401              MOV     A,#01H
02D1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 676
02D2 900000      R     MOV     DPTR,#LightCurrentState
02D5 7408              MOV     A,#08H
02D7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 677
                                           ; SOURCE LINE # 678
                                           ; SOURCE LINE # 679
02D8 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 680
02DB         ?C0075:
                                           ; SOURCE LINE # 681
02DB 900000      R     MOV     DPTR,#Dtimer
02DE E0                MOVX    A,@DPTR
02DF FE                MOV     R6,A
02E0 A3                INC     DPTR
02E1 E0                MOVX    A,@DPTR
02E2 FF                MOV     R7,A
02E3 EF                MOV     A,R7
02E4 4E                ORL     A,R6
02E5 6003              JZ      $ + 5H
02E7 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 682
02EA 900000      R     MOV     DPTR,#Dtimer
02ED E4                CLR     A
02EE F0                MOVX    @DPTR,A
02EF A3                INC     DPTR
02F0 7402              MOV     A,#02H
02F2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 683
02F3 900000      R     MOV     DPTR,#Dtimer
02F6 E0                MOVX    A,@DPTR
02F7 FE                MOV     R6,A
02F8 A3                INC     DPTR
02F9 E0                MOVX    A,@DPTR
02FA FF                MOV     R7,A
02FB EF                MOV     A,R7
02FC 6402              XRL     A,#02H
02FE 4E                ORL     A,R6
02FF 6003              JZ      $ + 5H
0301 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 685
0304 7F00              MOV     R7,#00H
0306 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 686
0309 900000      R     MOV     DPTR,#DGreenLEDState
030C E4                CLR     A
030D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 688
030E 7F01              MOV     R7,#01H
0310 120000      E     LCALL   _Red_LED_Write
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 47  

                                           ; SOURCE LINE # 689
0313 900000      R     MOV     DPTR,#DRedLEDState
0316 7401              MOV     A,#01H
0318 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 691
0319 900000      R     MOV     DPTR,#LightCurrentState
031C 7409              MOV     A,#09H
031E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 692
                                           ; SOURCE LINE # 693
                                           ; SOURCE LINE # 694
031F 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 695
0322         ?C0078:
                                           ; SOURCE LINE # 696
0322 900000      R     MOV     DPTR,#Ltimer
0325 E0                MOVX    A,@DPTR
0326 FE                MOV     R6,A
0327 A3                INC     DPTR
0328 E0                MOVX    A,@DPTR
0329 FF                MOV     R7,A
032A EF                MOV     A,R7
032B 4E                ORL     A,R6
032C 6003              JZ      $ + 5H
032E 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 697
0331 900000      R     MOV     DPTR,#auiredduration+04H
0334 E0                MOVX    A,@DPTR
0335 FE                MOV     R6,A
0336 A3                INC     DPTR
0337 E0                MOVX    A,@DPTR
0338 FF                MOV     R7,A
0339 900000      R     MOV     DPTR,#Dtimer
033C EE                MOV     A,R6
033D F0                MOVX    @DPTR,A
033E A3                INC     DPTR
033F EF                MOV     A,R7
0340 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 698
0341 900000      R     MOV     DPTR,#Ltimer
0344 E4                CLR     A
0345 F0                MOVX    @DPTR,A
0346 A3                INC     DPTR
0347 7402              MOV     A,#02H
0349 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 699
034A 900000      R     MOV     DPTR,#Ltimer
034D E0                MOVX    A,@DPTR
034E FE                MOV     R6,A
034F A3                INC     DPTR
0350 E0                MOVX    A,@DPTR
0351 FF                MOV     R7,A
0352 EF                MOV     A,R7
0353 6402              XRL     A,#02H
0355 4E                ORL     A,R6
0356 6003              JZ      $ + 5H
0358 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 701
035B 7F00              MOV     R7,#00H
035D 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 702
0360 900000      R     MOV     DPTR,#LRedLEDState
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 48  

0363 E4                CLR     A
0364 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 704
0365 7F01              MOV     R7,#01H
0367 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 705
036A 900000      R     MOV     DPTR,#LAmberLEDState
036D 7401              MOV     A,#01H
036F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 707
0370 900000      R     MOV     DPTR,#LightCurrentState
0373 740A              MOV     A,#0AH
0375 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 708
                                           ; SOURCE LINE # 709
                                           ; SOURCE LINE # 710
0376 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 711
0379         ?C0081:
                                           ; SOURCE LINE # 712
0379 900000      R     MOV     DPTR,#Ltimer
037C E0                MOVX    A,@DPTR
037D FE                MOV     R6,A
037E A3                INC     DPTR
037F E0                MOVX    A,@DPTR
0380 FF                MOV     R7,A
0381 EF                MOV     A,R7
0382 4E                ORL     A,R6
0383 6003              JZ      $ + 5H
0385 020000      R     LJMP    ?C0048
                                           ; SOURCE LINE # 713
0388 900000      R     MOV     DPTR,#auigreenduration+06H
038B E0                MOVX    A,@DPTR
038C FE                MOV     R6,A
038D A3                INC     DPTR
038E E0                MOVX    A,@DPTR
038F FF                MOV     R7,A
0390 900000      R     MOV     DPTR,#Ltimer
0393 EE                MOV     A,R6
0394 F0                MOVX    @DPTR,A
0395 A3                INC     DPTR
0396 EF                MOV     A,R7
0397 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 714
0398 900000      R     MOV     DPTR,#auigreenduration+06H
039B E0                MOVX    A,@DPTR
039C FE                MOV     R6,A
039D A3                INC     DPTR
039E E0                MOVX    A,@DPTR
039F FF                MOV     R7,A
03A0 900000      R     MOV     DPTR,#Ltimer
03A3 E0                MOVX    A,@DPTR
03A4 FC                MOV     R4,A
03A5 A3                INC     DPTR
03A6 E0                MOVX    A,@DPTR
03A7 FD                MOV     R5,A
03A8 ED                MOV     A,R5
03A9 6F                XRL     A,R7
03AA 7002              JNZ     ?C0171
03AC EC                MOV     A,R4
03AD 6E                XRL     A,R6
03AE         ?C0171:
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 49  

03AE 705A              JNZ     ?C0048
                                           ; SOURCE LINE # 716
03B0 7F00              MOV     R7,#00H
03B2 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 717
03B5 900000      R     MOV     DPTR,#LAmberLEDState
03B8 E4                CLR     A
03B9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 719
03BA 7F01              MOV     R7,#01H
03BC 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 720
03BF 900000      R     MOV     DPTR,#LGreenLEDState
03C2 7401              MOV     A,#01H
03C4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 722
03C5 900000      R     MOV     DPTR,#LightCurrentState
03C8 740B              MOV     A,#0BH
03CA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 723
                                           ; SOURCE LINE # 724
                                           ; SOURCE LINE # 725
03CB 803D              SJMP    ?C0048
                                           ; SOURCE LINE # 726
03CD         ?C0084:
                                           ; SOURCE LINE # 727
03CD 900000      R     MOV     DPTR,#Ltimer
03D0 E0                MOVX    A,@DPTR
03D1 FE                MOV     R6,A
03D2 A3                INC     DPTR
03D3 E0                MOVX    A,@DPTR
03D4 FF                MOV     R7,A
03D5 EF                MOV     A,R7
03D6 4E                ORL     A,R6
03D7 7031              JNZ     ?C0048
                                           ; SOURCE LINE # 728
03D9 900000      R     MOV     DPTR,#Ltimer
03DC E4                CLR     A
03DD F0                MOVX    @DPTR,A
03DE A3                INC     DPTR
03DF 7402              MOV     A,#02H
03E1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 729
03E2 900000      R     MOV     DPTR,#Ltimer
03E5 E0                MOVX    A,@DPTR
03E6 FE                MOV     R6,A
03E7 A3                INC     DPTR
03E8 E0                MOVX    A,@DPTR
03E9 FF                MOV     R7,A
03EA EF                MOV     A,R7
03EB 6402              XRL     A,#02H
03ED 4E                ORL     A,R6
03EE 701A              JNZ     ?C0048
                                           ; SOURCE LINE # 731
03F0 7F00              MOV     R7,#00H
03F2 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 732
03F5 900000      R     MOV     DPTR,#LGreenLEDState
03F8 E4                CLR     A
03F9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 734
03FA 7F01              MOV     R7,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 50  

03FC 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 735
03FF 900000      R     MOV     DPTR,#LRedLEDState
0402 7401              MOV     A,#01H
0404 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 737
0405 900000      R     MOV     DPTR,#LightCurrentState
0408 E4                CLR     A
0409 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 738
                                           ; SOURCE LINE # 739
                                           ; SOURCE LINE # 740
                                           ; SOURCE LINE # 741
                                           ; SOURCE LINE # 742
040A         ?C0048:
                                           ; SOURCE LINE # 743
040A 900000      R     MOV     DPTR,#OneSecondFlag
040D E0                MOVX    A,@DPTR
040E FF                MOV     R7,A
040F EF                MOV     A,R7
0410 6031              JZ      ?C0087
                                           ; SOURCE LINE # 744
0412 900000      R     MOV     DPTR,#OneSecondFlag
0415 E4                CLR     A
0416 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 745
0417 900000      R     MOV     DPTR,#Ftimer
041A 74FF              MOV     A,#0FFH
041C 75F0FF            MOV     B,#0FFH
041F 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 746
0422 900000      R     MOV     DPTR,#Rtimer
0425 74FF              MOV     A,#0FFH
0427 75F0FF            MOV     B,#0FFH
042A 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 747
042D 900000      R     MOV     DPTR,#Dtimer
0430 74FF              MOV     A,#0FFH
0432 75F0FF            MOV     B,#0FFH
0435 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 748
0438 900000      R     MOV     DPTR,#Ltimer
043B 74FF              MOV     A,#0FFH
043D 75F0FF            MOV     B,#0FFH
0440 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 749
0443         ?C0087:
                                           ; SOURCE LINE # 750
0443 120000      R     LCALL   LCD_Print
                                           ; SOURCE LINE # 751
0446 22                RET     
             ; FUNCTION TrafficLight_Operation (END)

             ; FUNCTION SettingModeLED_Operation (BEGIN)
                                           ; SOURCE LINE # 770
                                           ; SOURCE LINE # 772
0000 900000      R     MOV     DPTR,#Switch1PressCount
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 703C              JNZ     ?C0089
                                           ; SOURCE LINE # 774
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 51  

0008 7F00              MOV     R7,#00H
000A 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 775
000D 7F00              MOV     R7,#00H
000F 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 776
0012 7F00              MOV     R7,#00H
0014 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 777
0017 7F00              MOV     R7,#00H
0019 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 778
001C 7F00              MOV     R7,#00H
001E 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 779
0021 7F00              MOV     R7,#00H
0023 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 780
0026 7F00              MOV     R7,#00H
0028 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 781
002B 7F00              MOV     R7,#00H
002D 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 782
0030 7F00              MOV     R7,#00H
0032 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 783
0035 7F00              MOV     R7,#00H
0037 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 784
003A 7F00              MOV     R7,#00H
003C 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 785
003F 7F00              MOV     R7,#00H
0041 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 786
0044         ?C0089:
                                           ; SOURCE LINE # 788
0044 900000      R     MOV     DPTR,#Switch1PressCount
0047 E0                MOVX    A,@DPTR
0048 FF                MOV     R7,A
0049 EF                MOV     A,R7
004A B40126            CJNE    A,#01H,?C0090
                                           ; SOURCE LINE # 789
004D 7F00              MOV     R7,#00H
004F 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 790
0052 7F01              MOV     R7,#01H
0054 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 791
0057 7F64              MOV     R7,#064H
0059 7E00              MOV     R6,#00H
005B 7D00              MOV     R5,#00H
005D 7C00              MOV     R4,#00H
005F 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 792
0062 7F00              MOV     R7,#00H
0064 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 793
0067 7F64              MOV     R7,#064H
0069 7E00              MOV     R6,#00H
006B 7D00              MOV     R5,#00H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 52  

006D 7C00              MOV     R4,#00H
006F 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 794
0072 22                RET     
0073         ?C0090:
0073 900000      R     MOV     DPTR,#Switch1PressCount
0076 E0                MOVX    A,@DPTR
0077 FF                MOV     R7,A
0078 EF                MOV     A,R7
0079 B40226            CJNE    A,#02H,?C0092
                                           ; SOURCE LINE # 795
007C 7F00              MOV     R7,#00H
007E 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 796
0081 7F01              MOV     R7,#01H
0083 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 797
0086 7F64              MOV     R7,#064H
0088 7E00              MOV     R6,#00H
008A 7D00              MOV     R5,#00H
008C 7C00              MOV     R4,#00H
008E 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 798
0091 7F00              MOV     R7,#00H
0093 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 799
0096 7F64              MOV     R7,#064H
0098 7E00              MOV     R6,#00H
009A 7D00              MOV     R5,#00H
009C 7C00              MOV     R4,#00H
009E 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 800
00A1 22                RET     
00A2         ?C0092:
00A2 900000      R     MOV     DPTR,#Switch1PressCount
00A5 E0                MOVX    A,@DPTR
00A6 FF                MOV     R7,A
00A7 EF                MOV     A,R7
00A8 B40326            CJNE    A,#03H,?C0094
                                           ; SOURCE LINE # 801
00AB 7F00              MOV     R7,#00H
00AD 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 802
00B0 7F01              MOV     R7,#01H
00B2 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 803
00B5 7F64              MOV     R7,#064H
00B7 7E00              MOV     R6,#00H
00B9 7D00              MOV     R5,#00H
00BB 7C00              MOV     R4,#00H
00BD 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 804
00C0 7F00              MOV     R7,#00H
00C2 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 805
00C5 7F64              MOV     R7,#064H
00C7 7E00              MOV     R6,#00H
00C9 7D00              MOV     R5,#00H
00CB 7C00              MOV     R4,#00H
00CD 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 806
00D0 22                RET     
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 53  

00D1         ?C0094:
00D1 900000      R     MOV     DPTR,#Switch1PressCount
00D4 E0                MOVX    A,@DPTR
00D5 FF                MOV     R7,A
00D6 EF                MOV     A,R7
00D7 B40425            CJNE    A,#04H,?C0098
                                           ; SOURCE LINE # 807
00DA 7F00              MOV     R7,#00H
00DC 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 808
00DF 7F01              MOV     R7,#01H
00E1 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 809
00E4 7F64              MOV     R7,#064H
00E6 7E00              MOV     R6,#00H
00E8 7D00              MOV     R5,#00H
00EA 7C00              MOV     R4,#00H
00EC 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 810
00EF 7F00              MOV     R7,#00H
00F1 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 811
00F4 7F64              MOV     R7,#064H
00F6 7E00              MOV     R6,#00H
00F8 7D00              MOV     R5,#00H
00FA 7C00              MOV     R4,#00H
00FC 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 813
                                           ; SOURCE LINE # 815
                                           ; SOURCE LINE # 817
00FF         ?C0098:
00FF 22                RET     
             ; FUNCTION SettingModeLED_Operation (END)

             ; FUNCTION Afterhours_Operation (BEGIN)
                                           ; SOURCE LINE # 835
                                           ; SOURCE LINE # 836
0000 7F00              MOV     R7,#00H
0002 120000      E     LCALL   _Front_Green_LED_Write
                                           ; SOURCE LINE # 837
0005 7F00              MOV     R7,#00H
0007 120000      E     LCALL   _Front_Red_LED_Write
                                           ; SOURCE LINE # 838
000A 7F00              MOV     R7,#00H
000C 120000      E     LCALL   _Right_Green_LED_Write
                                           ; SOURCE LINE # 839
000F 7F00              MOV     R7,#00H
0011 120000      E     LCALL   _Right_Red_LED_Write
                                           ; SOURCE LINE # 840
0014 7F00              MOV     R7,#00H
0016 120000      E     LCALL   _Left_Green_LED_Write
                                           ; SOURCE LINE # 841
0019 7F00              MOV     R7,#00H
001B 120000      E     LCALL   _Left_Red_LED_Write
                                           ; SOURCE LINE # 842
001E 7F00              MOV     R7,#00H
0020 120000      E     LCALL   _Green_LED_Write
                                           ; SOURCE LINE # 843
0023 7F00              MOV     R7,#00H
0025 120000      E     LCALL   _Red_LED_Write
                                           ; SOURCE LINE # 844
0028 7F01              MOV     R7,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 54  

002A 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 845
002D 7F01              MOV     R7,#01H
002F 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 846
0032 7F01              MOV     R7,#01H
0034 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 847
0037 7F01              MOV     R7,#01H
0039 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 848
003C 7FF4              MOV     R7,#0F4H
003E 7E01              MOV     R6,#01H
0040 7D00              MOV     R5,#00H
0042 7C00              MOV     R4,#00H
0044 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 849
0047 7F00              MOV     R7,#00H
0049 120000      E     LCALL   _Front_Amber_LED_Write
                                           ; SOURCE LINE # 850
004C 7F00              MOV     R7,#00H
004E 120000      E     LCALL   _Right_Amber_LED_Write
                                           ; SOURCE LINE # 851
0051 7F00              MOV     R7,#00H
0053 120000      E     LCALL   _Left_Amber_LED_Write
                                           ; SOURCE LINE # 852
0056 7F00              MOV     R7,#00H
0058 120000      E     LCALL   _Amber_LED_Write
                                           ; SOURCE LINE # 853
005B 7FF4              MOV     R7,#0F4H
005D 7E01              MOV     R6,#01H
005F 7D00              MOV     R5,#00H
0061 7C00              MOV     R4,#00H
0063 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 854
0066 22                RET     
             ; FUNCTION Afterhours_Operation (END)

             ; FUNCTION _EEPROM_WriteFunction (BEGIN)
                                           ; SOURCE LINE # 872
0000 900000      R     MOV     DPTR,#EepromAddress
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 874
0008 900000      R     MOV     DPTR,#EEPROMWriteFlag
000B E0                MOVX    A,@DPTR
000C FF                MOV     R7,A
000D EF                MOV     A,R7
000E B4022A            CJNE    A,#02H,?C0100
                                           ; SOURCE LINE # 876
0011 900000      R     MOV     DPTR,#EepromAddress
0014 E0                MOVX    A,@DPTR
0015 FE                MOV     R6,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FF                MOV     R7,A
0019 EF                MOV     A,R7
001A 25E0              ADD     A,ACC
001C FF                MOV     R7,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 55  

001D EE                MOV     A,R6
001E 33                RLC     A
001F FE                MOV     R6,A
0020 7400        R     MOV     A,#LOW auigreenduration
0022 2F                ADD     A,R7
0023 F582              MOV     DPL,A
0025 7400        R     MOV     A,#HIGH auigreenduration
0027 3E                ADDC    A,R6
0028 F583              MOV     DPH,A
002A E0                MOVX    A,@DPTR
002B FE                MOV     R6,A
002C A3                INC     DPTR
002D E0                MOVX    A,@DPTR
002E FF                MOV     R7,A
002F 900000      R     MOV     DPTR,#EepromAddress
0032 E0                MOVX    A,@DPTR
0033 FC                MOV     R4,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FD                MOV     R5,A
0037 120000      E     LCALL   _EEPROM_WriteByte
                                           ; SOURCE LINE # 878
003A 22                RET     
003B         ?C0100:
                                           ; SOURCE LINE # 880
003B 900000      R     MOV     DPTR,#LoopCounter
003E E4                CLR     A
003F F0                MOVX    @DPTR,A
0040         ?C0102:
0040 900000      R     MOV     DPTR,#LoopCounter
0043 E0                MOVX    A,@DPTR
0044 FF                MOV     R7,A
0045 EF                MOV     A,R7
0046 C3                CLR     C
0047 942E              SUBB    A,#02EH
0049 5033              JNC     ?C0105
                                           ; SOURCE LINE # 882
004B 900000      R     MOV     DPTR,#LoopCounter
004E E0                MOVX    A,@DPTR
004F FF                MOV     R7,A
0050 EF                MOV     A,R7
0051 25E0              ADD     A,ACC
0053 2400        R     ADD     A,#LOW auigreenduration
0055 F582              MOV     DPL,A
0057 E4                CLR     A
0058 3400        R     ADDC    A,#HIGH auigreenduration
005A F583              MOV     DPH,A
005C E0                MOVX    A,@DPTR
005D FE                MOV     R6,A
005E A3                INC     DPTR
005F E0                MOVX    A,@DPTR
0060 FF                MOV     R7,A
0061 900000      R     MOV     DPTR,#EepromAddress
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 120000      E     LCALL   _EEPROM_WriteByte
                                           ; SOURCE LINE # 883
006C 900000      R     MOV     DPTR,#EepromAddress
006F E4                CLR     A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 56  

0070 75F001            MOV     B,#01H
0073 120000      E     LCALL   ?C?IILDX
                                           ; SOURCE LINE # 884
0076 900000      R     MOV     DPTR,#LoopCounter
0079 E0                MOVX    A,@DPTR
007A 04                INC     A
007B F0                MOVX    @DPTR,A
007C 80C2              SJMP    ?C0102
                                           ; SOURCE LINE # 886
                                           ; SOURCE LINE # 887
007E         ?C0105:
007E 22                RET     
             ; FUNCTION _EEPROM_WriteFunction (END)

             ; FUNCTION _EEPROM_Read (BEGIN)
                                           ; SOURCE LINE # 906
0000 900000      R     MOV     DPTR,#EepromAddress
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
0008 900000      R     MOV     DPTR,#RegCount
000B EC                MOV     A,R4
000C F0                MOVX    @DPTR,A
000D A3                INC     DPTR
000E ED                MOV     A,R5
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 909
0010 900000      R     MOV     DPTR,#EEPROMWriteFlag
0013 E0                MOVX    A,@DPTR
0014 FF                MOV     R7,A
0015 EF                MOV     A,R7
0016 B4022E            CJNE    A,#02H,?C0106
                                           ; SOURCE LINE # 911
0019 900000      R     MOV     DPTR,#EepromAddress
001C E0                MOVX    A,@DPTR
001D FE                MOV     R6,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 120000      E     LCALL   _EEPROM_ReadByte
0024 EF                MOV     A,R7
0025 FD                MOV     R5,A
0026 7C00              MOV     R4,#00H
0028 900000      R     MOV     DPTR,#EepromAddress
002B E0                MOVX    A,@DPTR
002C FE                MOV     R6,A
002D A3                INC     DPTR
002E E0                MOVX    A,@DPTR
002F FF                MOV     R7,A
0030 EF                MOV     A,R7
0031 25E0              ADD     A,ACC
0033 FF                MOV     R7,A
0034 EE                MOV     A,R6
0035 33                RLC     A
0036 FE                MOV     R6,A
0037 7400        R     MOV     A,#LOW auigreenduration
0039 2F                ADD     A,R7
003A F582              MOV     DPL,A
003C 7400        R     MOV     A,#HIGH auigreenduration
003E 3E                ADDC    A,R6
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 57  

003F F583              MOV     DPH,A
0041 EC                MOV     A,R4
0042 F0                MOVX    @DPTR,A
0043 A3                INC     DPTR
0044 ED                MOV     A,R5
0045 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 913
0046 22                RET     
0047         ?C0106:
                                           ; SOURCE LINE # 916
0047 900000      R     MOV     DPTR,#EepromAddress
004A E0                MOVX    A,@DPTR
004B FE                MOV     R6,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FF                MOV     R7,A
004F 900000      R     MOV     DPTR,#LoopCounter
0052 EF                MOV     A,R7
0053 F0                MOVX    @DPTR,A
0054         ?C0108:
0054 900000      R     MOV     DPTR,#RegCount
0057 E0                MOVX    A,@DPTR
0058 FE                MOV     R6,A
0059 A3                INC     DPTR
005A E0                MOVX    A,@DPTR
005B FF                MOV     R7,A
005C 900000      R     MOV     DPTR,#EepromAddress
005F E0                MOVX    A,@DPTR
0060 FC                MOV     R4,A
0061 A3                INC     DPTR
0062 E0                MOVX    A,@DPTR
0063 FD                MOV     R5,A
0064 ED                MOV     A,R5
0065 2F                ADD     A,R7
0066 FF                MOV     R7,A
0067 EC                MOV     A,R4
0068 3E                ADDC    A,R6
0069 FE                MOV     R6,A
006A 900000      R     MOV     DPTR,#LoopCounter
006D E0                MOVX    A,@DPTR
006E FD                MOV     R5,A
006F 7C00              MOV     R4,#00H
0071 C3                CLR     C
0072 ED                MOV     A,R5
0073 9F                SUBB    A,R7
0074 EC                MOV     A,R4
0075 9E                SUBB    A,R6
0076 502A              JNC     ?C0111
                                           ; SOURCE LINE # 917
0078 900000      R     MOV     DPTR,#LoopCounter
007B E0                MOVX    A,@DPTR
007C FF                MOV     R7,A
007D 7E00              MOV     R6,#00H
007F 120000      E     LCALL   _EEPROM_ReadByte
0082 7E00              MOV     R6,#00H
0084 900000      R     MOV     DPTR,#LoopCounter
0087 E0                MOVX    A,@DPTR
0088 FD                MOV     R5,A
0089 ED                MOV     A,R5
008A 25E0              ADD     A,ACC
008C 2400        R     ADD     A,#LOW auigreenduration
008E F582              MOV     DPL,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 58  

0090 E4                CLR     A
0091 3400        R     ADDC    A,#HIGH auigreenduration
0093 F583              MOV     DPH,A
0095 EE                MOV     A,R6
0096 F0                MOVX    @DPTR,A
0097 A3                INC     DPTR
0098 EF                MOV     A,R7
0099 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 919
009A 900000      R     MOV     DPTR,#LoopCounter
009D E0                MOVX    A,@DPTR
009E 04                INC     A
009F F0                MOVX    @DPTR,A
00A0 80B2              SJMP    ?C0108
                                           ; SOURCE LINE # 920
                                           ; SOURCE LINE # 924
00A2         ?C0111:
00A2 22                RET     
             ; FUNCTION _EEPROM_Read (END)

             ; FUNCTION RedDuration_Calculation (BEGIN)
                                           ; SOURCE LINE # 943
                                           ; SOURCE LINE # 945
0000 900000      R     MOV     DPTR,#InitialCount
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 607B              JZ      ?C0112
                                           ; SOURCE LINE # 946
0008 900000      R     MOV     DPTR,#Ftimer
000B E4                CLR     A
000C F0                MOVX    @DPTR,A
000D A3                INC     DPTR
000E 7402              MOV     A,#02H
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 947
0011 900000      R     MOV     DPTR,#auigreenduration
0014 E0                MOVX    A,@DPTR
0015 FE                MOV     R6,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FF                MOV     R7,A
0019 EF                MOV     A,R7
001A 2406              ADD     A,#06H
001C FF                MOV     R7,A
001D EE                MOV     A,R6
001E 3400              ADDC    A,#00H
0020 FE                MOV     R6,A
0021 900000      R     MOV     DPTR,#Rtimer
0024 EE                MOV     A,R6
0025 F0                MOVX    @DPTR,A
0026 A3                INC     DPTR
0027 EF                MOV     A,R7
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 948
0029 900000      R     MOV     DPTR,#auigreenduration+02H
002C E0                MOVX    A,@DPTR
002D FE                MOV     R6,A
002E A3                INC     DPTR
002F E0                MOVX    A,@DPTR
0030 FF                MOV     R7,A
0031 900000      R     MOV     DPTR,#auigreenduration
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 59  

0034 E0                MOVX    A,@DPTR
0035 FC                MOV     R4,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
0038 FD                MOV     R5,A
0039 ED                MOV     A,R5
003A 2F                ADD     A,R7
003B FF                MOV     R7,A
003C EC                MOV     A,R4
003D 3E                ADDC    A,R6
003E FE                MOV     R6,A
003F EF                MOV     A,R7
0040 240A              ADD     A,#0AH
0042 FF                MOV     R7,A
0043 EE                MOV     A,R6
0044 3400              ADDC    A,#00H
0046 FE                MOV     R6,A
0047 900000      R     MOV     DPTR,#Dtimer
004A EE                MOV     A,R6
004B F0                MOVX    @DPTR,A
004C A3                INC     DPTR
004D EF                MOV     A,R7
004E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 949
004F 900000      R     MOV     DPTR,#auigreenduration+02H
0052 E0                MOVX    A,@DPTR
0053 FE                MOV     R6,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FF                MOV     R7,A
0057 900000      R     MOV     DPTR,#auigreenduration
005A E0                MOVX    A,@DPTR
005B FC                MOV     R4,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FD                MOV     R5,A
005F ED                MOV     A,R5
0060 2F                ADD     A,R7
0061 FF                MOV     R7,A
0062 EC                MOV     A,R4
0063 3E                ADDC    A,R6
0064 FE                MOV     R6,A
0065 900000      R     MOV     DPTR,#auigreenduration+04H
0068 E0                MOVX    A,@DPTR
0069 FC                MOV     R4,A
006A A3                INC     DPTR
006B E0                MOVX    A,@DPTR
006C FD                MOV     R5,A
006D EF                MOV     A,R7
006E 2D                ADD     A,R5
006F FF                MOV     R7,A
0070 EE                MOV     A,R6
0071 3C                ADDC    A,R4
0072 FE                MOV     R6,A
0073 EF                MOV     A,R7
0074 240E              ADD     A,#0EH
0076 FF                MOV     R7,A
0077 EE                MOV     A,R6
0078 3400              ADDC    A,#00H
007A FE                MOV     R6,A
007B 900000      R     MOV     DPTR,#Ltimer
007E EE                MOV     A,R6
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 60  

007F F0                MOVX    @DPTR,A
0080 A3                INC     DPTR
0081 EF                MOV     A,R7
0082 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 950
0083         ?C0112:
                                           ; SOURCE LINE # 951
0083 900000      R     MOV     DPTR,#auigreenduration+04H
0086 E0                MOVX    A,@DPTR
0087 FE                MOV     R6,A
0088 A3                INC     DPTR
0089 E0                MOVX    A,@DPTR
008A FF                MOV     R7,A
008B 900000      R     MOV     DPTR,#auigreenduration+02H
008E E0                MOVX    A,@DPTR
008F FC                MOV     R4,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FD                MOV     R5,A
0093 ED                MOV     A,R5
0094 2F                ADD     A,R7
0095 FF                MOV     R7,A
0096 EC                MOV     A,R4
0097 3E                ADDC    A,R6
0098 FE                MOV     R6,A
0099 900000      R     MOV     DPTR,#auigreenduration+06H
009C E0                MOVX    A,@DPTR
009D FC                MOV     R4,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 FD                MOV     R5,A
00A1 EF                MOV     A,R7
00A2 2D                ADD     A,R5
00A3 FF                MOV     R7,A
00A4 EE                MOV     A,R6
00A5 3C                ADDC    A,R4
00A6 FE                MOV     R6,A
00A7 EF                MOV     A,R7
00A8 240C              ADD     A,#0CH
00AA FF                MOV     R7,A
00AB EE                MOV     A,R6
00AC 3400              ADDC    A,#00H
00AE FE                MOV     R6,A
00AF 900000      R     MOV     DPTR,#auiredduration
00B2 EE                MOV     A,R6
00B3 F0                MOVX    @DPTR,A
00B4 A3                INC     DPTR
00B5 EF                MOV     A,R7
00B6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 952
00B7 900000      R     MOV     DPTR,#auigreenduration+04H
00BA E0                MOVX    A,@DPTR
00BB FE                MOV     R6,A
00BC A3                INC     DPTR
00BD E0                MOVX    A,@DPTR
00BE FF                MOV     R7,A
00BF 900000      R     MOV     DPTR,#auigreenduration
00C2 E0                MOVX    A,@DPTR
00C3 FC                MOV     R4,A
00C4 A3                INC     DPTR
00C5 E0                MOVX    A,@DPTR
00C6 FD                MOV     R5,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 61  

00C7 ED                MOV     A,R5
00C8 2F                ADD     A,R7
00C9 FF                MOV     R7,A
00CA EC                MOV     A,R4
00CB 3E                ADDC    A,R6
00CC FE                MOV     R6,A
00CD 900000      R     MOV     DPTR,#auigreenduration+06H
00D0 E0                MOVX    A,@DPTR
00D1 FC                MOV     R4,A
00D2 A3                INC     DPTR
00D3 E0                MOVX    A,@DPTR
00D4 FD                MOV     R5,A
00D5 EF                MOV     A,R7
00D6 2D                ADD     A,R5
00D7 FF                MOV     R7,A
00D8 EE                MOV     A,R6
00D9 3C                ADDC    A,R4
00DA FE                MOV     R6,A
00DB EF                MOV     A,R7
00DC 240C              ADD     A,#0CH
00DE FF                MOV     R7,A
00DF EE                MOV     A,R6
00E0 3400              ADDC    A,#00H
00E2 FE                MOV     R6,A
00E3 900000      R     MOV     DPTR,#auiredduration+02H
00E6 EE                MOV     A,R6
00E7 F0                MOVX    @DPTR,A
00E8 A3                INC     DPTR
00E9 EF                MOV     A,R7
00EA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 953
00EB 900000      R     MOV     DPTR,#auigreenduration+02H
00EE E0                MOVX    A,@DPTR
00EF FE                MOV     R6,A
00F0 A3                INC     DPTR
00F1 E0                MOVX    A,@DPTR
00F2 FF                MOV     R7,A
00F3 900000      R     MOV     DPTR,#auigreenduration
00F6 E0                MOVX    A,@DPTR
00F7 FC                MOV     R4,A
00F8 A3                INC     DPTR
00F9 E0                MOVX    A,@DPTR
00FA FD                MOV     R5,A
00FB ED                MOV     A,R5
00FC 2F                ADD     A,R7
00FD FF                MOV     R7,A
00FE EC                MOV     A,R4
00FF 3E                ADDC    A,R6
0100 FE                MOV     R6,A
0101 900000      R     MOV     DPTR,#auigreenduration+06H
0104 E0                MOVX    A,@DPTR
0105 FC                MOV     R4,A
0106 A3                INC     DPTR
0107 E0                MOVX    A,@DPTR
0108 FD                MOV     R5,A
0109 EF                MOV     A,R7
010A 2D                ADD     A,R5
010B FF                MOV     R7,A
010C EE                MOV     A,R6
010D 3C                ADDC    A,R4
010E FE                MOV     R6,A
010F EF                MOV     A,R7
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 62  

0110 240C              ADD     A,#0CH
0112 FF                MOV     R7,A
0113 EE                MOV     A,R6
0114 3400              ADDC    A,#00H
0116 FE                MOV     R6,A
0117 900000      R     MOV     DPTR,#auiredduration+04H
011A EE                MOV     A,R6
011B F0                MOVX    @DPTR,A
011C A3                INC     DPTR
011D EF                MOV     A,R7
011E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 954
011F 900000      R     MOV     DPTR,#auigreenduration+02H
0122 E0                MOVX    A,@DPTR
0123 FE                MOV     R6,A
0124 A3                INC     DPTR
0125 E0                MOVX    A,@DPTR
0126 FF                MOV     R7,A
0127 900000      R     MOV     DPTR,#auigreenduration
012A E0                MOVX    A,@DPTR
012B FC                MOV     R4,A
012C A3                INC     DPTR
012D E0                MOVX    A,@DPTR
012E FD                MOV     R5,A
012F ED                MOV     A,R5
0130 2F                ADD     A,R7
0131 FF                MOV     R7,A
0132 EC                MOV     A,R4
0133 3E                ADDC    A,R6
0134 FE                MOV     R6,A
0135 900000      R     MOV     DPTR,#auigreenduration+04H
0138 E0                MOVX    A,@DPTR
0139 FC                MOV     R4,A
013A A3                INC     DPTR
013B E0                MOVX    A,@DPTR
013C FD                MOV     R5,A
013D EF                MOV     A,R7
013E 2D                ADD     A,R5
013F FF                MOV     R7,A
0140 EE                MOV     A,R6
0141 3C                ADDC    A,R4
0142 FE                MOV     R6,A
0143 EF                MOV     A,R7
0144 240C              ADD     A,#0CH
0146 FF                MOV     R7,A
0147 EE                MOV     A,R6
0148 3400              ADDC    A,#00H
014A FE                MOV     R6,A
014B 900000      R     MOV     DPTR,#auiredduration+06H
014E EE                MOV     A,R6
014F F0                MOVX    @DPTR,A
0150 A3                INC     DPTR
0151 EF                MOV     A,R7
0152 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 956
0153 22                RET     
             ; FUNCTION RedDuration_Calculation (END)

             ; FUNCTION _LCD_Clearindex (BEGIN)
                                           ; SOURCE LINE # 978
0000 900000      R     MOV     DPTR,#Value
0003 EE                MOV     A,R6
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 63  

0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 980
0008 900000      R     MOV     DPTR,#CurrentState
000B E0                MOVX    A,@DPTR
000C FF                MOV     R7,A
000D EF                MOV     A,R7
000E 6003              JZ      $ + 5H
0010 020000      R     LJMP    ?C0124
                                           ; SOURCE LINE # 982
0013 900000      R     MOV     DPTR,#Value
0016 E0                MOVX    A,@DPTR
0017 FE                MOV     R6,A
0018 A3                INC     DPTR
0019 E0                MOVX    A,@DPTR
001A FF                MOV     R7,A
001B C3                CLR     C
001C EF                MOV     A,R7
001D 9464              SUBB    A,#064H
001F EE                MOV     A,R6
0020 9400              SUBB    A,#00H
0022 5027              JNC     ?C0115
                                           ; SOURCE LINE # 983
0024 7D05              MOV     R5,#05H
0026 7F00              MOV     R7,#00H
0028 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 984
002B 7BFF              MOV     R3,#0FFH
002D 7A00        R     MOV     R2,#HIGH ?SC_0
002F 7900        R     MOV     R1,#LOW ?SC_0
0031 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 985
0034 7D05              MOV     R5,#05H
0036 7F00              MOV     R7,#00H
0038 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 986
003B 900000      R     MOV     DPTR,#Ftimer
003E E0                MOVX    A,@DPTR
003F FE                MOV     R6,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 FF                MOV     R7,A
0043 E4                CLR     A
0044 FC                MOV     R4,A
0045 FD                MOV     R5,A
0046 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 987
0049 8015              SJMP    ?C0116
004B         ?C0115:
                                           ; SOURCE LINE # 989
004B 7D05              MOV     R5,#05H
004D 7F00              MOV     R7,#00H
004F 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 990
0052 900000      R     MOV     DPTR,#Ftimer
0055 E0                MOVX    A,@DPTR
0056 FE                MOV     R6,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FF                MOV     R7,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 64  

005A E4                CLR     A
005B FC                MOV     R4,A
005C FD                MOV     R5,A
005D 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 991
0060         ?C0116:
                                           ; SOURCE LINE # 992
0060 900000      R     MOV     DPTR,#Value
0063 E0                MOVX    A,@DPTR
0064 FE                MOV     R6,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FF                MOV     R7,A
0068 C3                CLR     C
0069 EF                MOV     A,R7
006A 9464              SUBB    A,#064H
006C EE                MOV     A,R6
006D 9400              SUBB    A,#00H
006F 5027              JNC     ?C0117
                                           ; SOURCE LINE # 993
0071 7D0D              MOV     R5,#0DH
0073 7F00              MOV     R7,#00H
0075 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 994
0078 7BFF              MOV     R3,#0FFH
007A 7A00        R     MOV     R2,#HIGH ?SC_0
007C 7900        R     MOV     R1,#LOW ?SC_0
007E 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 995
0081 7D0D              MOV     R5,#0DH
0083 7F00              MOV     R7,#00H
0085 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 996
0088 900000      R     MOV     DPTR,#Rtimer
008B E0                MOVX    A,@DPTR
008C FE                MOV     R6,A
008D A3                INC     DPTR
008E E0                MOVX    A,@DPTR
008F FF                MOV     R7,A
0090 E4                CLR     A
0091 FC                MOV     R4,A
0092 FD                MOV     R5,A
0093 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 997
0096 8015              SJMP    ?C0118
0098         ?C0117:
                                           ; SOURCE LINE # 999
0098 7D0D              MOV     R5,#0DH
009A 7F00              MOV     R7,#00H
009C 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1000
009F 900000      R     MOV     DPTR,#Rtimer
00A2 E0                MOVX    A,@DPTR
00A3 FE                MOV     R6,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FF                MOV     R7,A
00A7 E4                CLR     A
00A8 FC                MOV     R4,A
00A9 FD                MOV     R5,A
00AA 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1001
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 65  

00AD         ?C0118:
                                           ; SOURCE LINE # 1002
00AD 900000      R     MOV     DPTR,#Value
00B0 E0                MOVX    A,@DPTR
00B1 FE                MOV     R6,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
00B4 FF                MOV     R7,A
00B5 C3                CLR     C
00B6 EF                MOV     A,R7
00B7 9464              SUBB    A,#064H
00B9 EE                MOV     A,R6
00BA 9400              SUBB    A,#00H
00BC 5027              JNC     ?C0119
                                           ; SOURCE LINE # 1003
00BE 7D0D              MOV     R5,#0DH
00C0 7F01              MOV     R7,#01H
00C2 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1004
00C5 7BFF              MOV     R3,#0FFH
00C7 7A00        R     MOV     R2,#HIGH ?SC_0
00C9 7900        R     MOV     R1,#LOW ?SC_0
00CB 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1005
00CE 7D0D              MOV     R5,#0DH
00D0 7F01              MOV     R7,#01H
00D2 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1006
00D5 900000      R     MOV     DPTR,#Dtimer
00D8 E0                MOVX    A,@DPTR
00D9 FE                MOV     R6,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
00DC FF                MOV     R7,A
00DD E4                CLR     A
00DE FC                MOV     R4,A
00DF FD                MOV     R5,A
00E0 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1007
00E3 8015              SJMP    ?C0120
00E5         ?C0119:
                                           ; SOURCE LINE # 1009
00E5 7D0D              MOV     R5,#0DH
00E7 7F01              MOV     R7,#01H
00E9 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1010
00EC 900000      R     MOV     DPTR,#Dtimer
00EF E0                MOVX    A,@DPTR
00F0 FE                MOV     R6,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 FF                MOV     R7,A
00F4 E4                CLR     A
00F5 FC                MOV     R4,A
00F6 FD                MOV     R5,A
00F7 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1011
00FA         ?C0120:
                                           ; SOURCE LINE # 1012
00FA 900000      R     MOV     DPTR,#Value
00FD E0                MOVX    A,@DPTR
00FE FE                MOV     R6,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 66  

00FF A3                INC     DPTR
0100 E0                MOVX    A,@DPTR
0101 FF                MOV     R7,A
0102 C3                CLR     C
0103 EF                MOV     A,R7
0104 9464              SUBB    A,#064H
0106 EE                MOV     A,R6
0107 9400              SUBB    A,#00H
0109 5026              JNC     ?C0121
                                           ; SOURCE LINE # 1013
010B 7D05              MOV     R5,#05H
010D 7F01              MOV     R7,#01H
010F 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1014
0112 7BFF              MOV     R3,#0FFH
0114 7A00        R     MOV     R2,#HIGH ?SC_0
0116 7900        R     MOV     R1,#LOW ?SC_0
0118 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1015
011B 7D05              MOV     R5,#05H
011D 7F01              MOV     R7,#01H
011F 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1016
0122 900000      R     MOV     DPTR,#Ltimer
0125 E0                MOVX    A,@DPTR
0126 FE                MOV     R6,A
0127 A3                INC     DPTR
0128 E0                MOVX    A,@DPTR
0129 FF                MOV     R7,A
012A E4                CLR     A
012B FC                MOV     R4,A
012C FD                MOV     R5,A
012D 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1017
0130 22                RET     
0131         ?C0121:
                                           ; SOURCE LINE # 1019
0131 7D05              MOV     R5,#05H
0133 7F01              MOV     R7,#01H
0135 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1020
0138 900000      R     MOV     DPTR,#Ltimer
013B E0                MOVX    A,@DPTR
013C FE                MOV     R6,A
013D A3                INC     DPTR
013E E0                MOVX    A,@DPTR
013F FF                MOV     R7,A
0140 E4                CLR     A
0141 FC                MOV     R4,A
0142 FD                MOV     R5,A
0143 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1021
                                           ; SOURCE LINE # 1023
                                           ; SOURCE LINE # 1042
                                           ; SOURCE LINE # 1045
                                           ; SOURCE LINE # 1048
0146         ?C0124:
0146 22                RET     
             ; FUNCTION _LCD_Clearindex (END)

             ; FUNCTION LCD_Print (BEGIN)
                                           ; SOURCE LINE # 1070
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 67  

                                           ; SOURCE LINE # 1074
0000 900000      R     MOV     DPTR,#LightSettingFlag
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 EF                MOV     A,R7
0006 7003              JNZ     $ + 5H
0008 020000      R     LJMP    ?C0125
                                           ; SOURCE LINE # 1076
000B 900000      R     MOV     DPTR,#Switch1PressCount
000E E0                MOVX    A,@DPTR
000F FF                MOV     R7,A
0010 EF                MOV     A,R7
0011 7010              JNZ     ?C0126
                                           ; SOURCE LINE # 1078
0013 7D00              MOV     R5,#00H
0015 7F00              MOV     R7,#00H
0017 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1079
001A 7BFF              MOV     R3,#0FFH
001C 7A00        R     MOV     R2,#HIGH ?SC_4
001E 7900        R     MOV     R1,#LOW ?SC_4
0020 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1081
0023         ?C0126:
                                           ; SOURCE LINE # 1083
0023 900000      R     MOV     DPTR,#Switch1PressCount
0026 E0                MOVX    A,@DPTR
0027 FF                MOV     R7,A
0028 EF                MOV     A,R7
0029 6401              XRL     A,#01H
002B 6003              JZ      $ + 5H
002D 020000      R     LJMP    ?C0127
                                           ; SOURCE LINE # 1085
0030 7D00              MOV     R5,#00H
0032 7F00              MOV     R7,#00H
0034 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1086
0037 7BFF              MOV     R3,#0FFH
0039 7A00        R     MOV     R2,#HIGH ?SC_20
003B 7900        R     MOV     R1,#LOW ?SC_20
003D 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1089
0040 900000      R     MOV     DPTR,#result_in_volts
0043 120000      E     LCALL   ?C?LLDXDATA
0046 C004              PUSH    AR4
0048 C005              PUSH    AR5
004A C006              PUSH    AR6
004C C007              PUSH    AR7
004E 7F00              MOV     R7,#00H
0050 7E00              MOV     R6,#00H
0052 7D00              MOV     R5,#00H
0054 7C00              MOV     R4,#00H
0056 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
0059 120000      E     LCALL   ?C?LSTXDATA
005C 7F33              MOV     R7,#033H
005E 7E33              MOV     R6,#033H
0060 7D53              MOV     R5,#053H
0062 7C40              MOV     R4,#040H
0064 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
0067 120000      E     LCALL   ?C?LSTXDATA
006A 7F00              MOV     R7,#00H
006C 7E00              MOV     R6,#00H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 68  

006E 7D20              MOV     R5,#020H
0070 7C41              MOV     R4,#041H
0072 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
0075 120000      E     LCALL   ?C?LSTXDATA
0078 7F00              MOV     R7,#00H
007A 7E00              MOV     R6,#00H
007C 7D16              MOV     R5,#016H
007E 7C43              MOV     R4,#043H
0080 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
0083 120000      E     LCALL   ?C?LSTXDATA
0086 D007              POP     AR7
0088 D006              POP     AR6
008A D005              POP     AR5
008C D004              POP     AR4
008E 120000      R     LCALL   _mapf
0091 120000      E     LCALL   ?C?CASTF
0094 900000      R     MOV     DPTR,#duration
0097 EE                MOV     A,R6
0098 F0                MOVX    @DPTR,A
0099 A3                INC     DPTR
009A EF                MOV     A,R7
009B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1090
009C 900000      R     MOV     DPTR,#duration
009F E0                MOVX    A,@DPTR
00A0 FE                MOV     R6,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 FF                MOV     R7,A
00A4 C3                CLR     C
00A5 EF                MOV     A,R7
00A6 9464              SUBB    A,#064H
00A8 EE                MOV     A,R6
00A9 9400              SUBB    A,#00H
00AB 503E              JNC     ?C0128
                                           ; SOURCE LINE # 1091
00AD 7D00              MOV     R5,#00H
00AF 7F01              MOV     R7,#01H
00B1 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1092
00B4 7BFF              MOV     R3,#0FFH
00B6 7A00        R     MOV     R2,#HIGH ?SC_0
00B8 7900        R     MOV     R1,#LOW ?SC_0
00BA 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1093
00BD 7D00              MOV     R5,#00H
00BF 7F01              MOV     R7,#01H
00C1 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1094
00C4 900000      R     MOV     DPTR,#duration
00C7 E0                MOVX    A,@DPTR
00C8 FE                MOV     R6,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB FF                MOV     R7,A
00CC E4                CLR     A
00CD FC                MOV     R4,A
00CE FD                MOV     R5,A
00CF 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1095
00D2 7D06              MOV     R5,#06H
00D4 7F01              MOV     R7,#01H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 69  

00D6 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1096
00D9 7BFF              MOV     R3,#0FFH
00DB 7A00        R     MOV     R2,#HIGH ?SC_0
00DD 7900        R     MOV     R1,#LOW ?SC_0
00DF 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1097
00E2 7D06              MOV     R5,#06H
00E4 7F01              MOV     R7,#01H
00E6 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1098
00E9 801C              SJMP    ?C0129
00EB         ?C0128:
                                           ; SOURCE LINE # 1100
00EB 7D00              MOV     R5,#00H
00ED 7F01              MOV     R7,#01H
00EF 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1101
00F2 900000      R     MOV     DPTR,#duration
00F5 E0                MOVX    A,@DPTR
00F6 FE                MOV     R6,A
00F7 A3                INC     DPTR
00F8 E0                MOVX    A,@DPTR
00F9 FF                MOV     R7,A
00FA E4                CLR     A
00FB FC                MOV     R4,A
00FC FD                MOV     R5,A
00FD 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1102
0100 7D06              MOV     R5,#06H
0102 7F01              MOV     R7,#01H
0104 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1103
0107         ?C0129:
                                           ; SOURCE LINE # 1104
0107 900000      R     MOV     DPTR,#auigreenduration
010A E0                MOVX    A,@DPTR
010B FE                MOV     R6,A
010C A3                INC     DPTR
010D E0                MOVX    A,@DPTR
010E FF                MOV     R7,A
010F E4                CLR     A
0110 FC                MOV     R4,A
0111 FD                MOV     R5,A
0112 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1105
0115 7D09              MOV     R5,#09H
0117 7F01              MOV     R7,#01H
0119 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1106
011C 7BFF              MOV     R3,#0FFH
011E 7A00        R     MOV     R2,#HIGH ?SC_40
0120 7900        R     MOV     R1,#LOW ?SC_40
0122 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1108
0125 22                RET     
0126         ?C0127:
0126 900000      R     MOV     DPTR,#Switch1PressCount
0129 E0                MOVX    A,@DPTR
012A FF                MOV     R7,A
012B EF                MOV     A,R7
012C 6402              XRL     A,#02H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 70  

012E 6003              JZ      $ + 5H
0130 020000      R     LJMP    ?C0131
                                           ; SOURCE LINE # 1110
0133 7D00              MOV     R5,#00H
0135 7F00              MOV     R7,#00H
0137 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1111
013A 7BFF              MOV     R3,#0FFH
013C 7A00        R     MOV     R2,#HIGH ?SC_52
013E 7900        R     MOV     R1,#LOW ?SC_52
0140 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1112
0143 900000      R     MOV     DPTR,#result_in_volts
0146 120000      E     LCALL   ?C?LLDXDATA
0149 C004              PUSH    AR4
014B C005              PUSH    AR5
014D C006              PUSH    AR6
014F C007              PUSH    AR7
0151 7F00              MOV     R7,#00H
0153 7E00              MOV     R6,#00H
0155 7D00              MOV     R5,#00H
0157 7C00              MOV     R4,#00H
0159 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
015C 120000      E     LCALL   ?C?LSTXDATA
015F 7F33              MOV     R7,#033H
0161 7E33              MOV     R6,#033H
0163 7D53              MOV     R5,#053H
0165 7C40              MOV     R4,#040H
0167 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
016A 120000      E     LCALL   ?C?LSTXDATA
016D 7F00              MOV     R7,#00H
016F 7E00              MOV     R6,#00H
0171 7D20              MOV     R5,#020H
0173 7C41              MOV     R4,#041H
0175 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
0178 120000      E     LCALL   ?C?LSTXDATA
017B 7F00              MOV     R7,#00H
017D 7E00              MOV     R6,#00H
017F 7D16              MOV     R5,#016H
0181 7C43              MOV     R4,#043H
0183 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
0186 120000      E     LCALL   ?C?LSTXDATA
0189 D007              POP     AR7
018B D006              POP     AR6
018D D005              POP     AR5
018F D004              POP     AR4
0191 120000      R     LCALL   _mapf
0194 120000      E     LCALL   ?C?CASTF
0197 900000      R     MOV     DPTR,#duration
019A EE                MOV     A,R6
019B F0                MOVX    @DPTR,A
019C A3                INC     DPTR
019D EF                MOV     A,R7
019E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1113
019F 900000      R     MOV     DPTR,#duration
01A2 E0                MOVX    A,@DPTR
01A3 FE                MOV     R6,A
01A4 A3                INC     DPTR
01A5 E0                MOVX    A,@DPTR
01A6 FF                MOV     R7,A
01A7 C3                CLR     C
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 71  

01A8 EF                MOV     A,R7
01A9 9464              SUBB    A,#064H
01AB EE                MOV     A,R6
01AC 9400              SUBB    A,#00H
01AE 503E              JNC     ?C0132
                                           ; SOURCE LINE # 1114
01B0 7D00              MOV     R5,#00H
01B2 7F01              MOV     R7,#01H
01B4 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1115
01B7 7BFF              MOV     R3,#0FFH
01B9 7A00        R     MOV     R2,#HIGH ?SC_0
01BB 7900        R     MOV     R1,#LOW ?SC_0
01BD 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1116
01C0 7D00              MOV     R5,#00H
01C2 7F01              MOV     R7,#01H
01C4 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1117
01C7 900000      R     MOV     DPTR,#duration
01CA E0                MOVX    A,@DPTR
01CB FE                MOV     R6,A
01CC A3                INC     DPTR
01CD E0                MOVX    A,@DPTR
01CE FF                MOV     R7,A
01CF E4                CLR     A
01D0 FC                MOV     R4,A
01D1 FD                MOV     R5,A
01D2 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1118
01D5 7D06              MOV     R5,#06H
01D7 7F01              MOV     R7,#01H
01D9 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1119
01DC 7BFF              MOV     R3,#0FFH
01DE 7A00        R     MOV     R2,#HIGH ?SC_0
01E0 7900        R     MOV     R1,#LOW ?SC_0
01E2 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1120
01E5 7D06              MOV     R5,#06H
01E7 7F01              MOV     R7,#01H
01E9 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1121
01EC 801C              SJMP    ?C0133
01EE         ?C0132:
                                           ; SOURCE LINE # 1123
01EE 7D00              MOV     R5,#00H
01F0 7F01              MOV     R7,#01H
01F2 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1124
01F5 900000      R     MOV     DPTR,#duration
01F8 E0                MOVX    A,@DPTR
01F9 FE                MOV     R6,A
01FA A3                INC     DPTR
01FB E0                MOVX    A,@DPTR
01FC FF                MOV     R7,A
01FD E4                CLR     A
01FE FC                MOV     R4,A
01FF FD                MOV     R5,A
0200 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1125
0203 7D06              MOV     R5,#06H
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 72  

0205 7F01              MOV     R7,#01H
0207 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1126
020A         ?C0133:
                                           ; SOURCE LINE # 1127
020A 900000      R     MOV     DPTR,#auigreenduration+02H
020D E0                MOVX    A,@DPTR
020E FE                MOV     R6,A
020F A3                INC     DPTR
0210 E0                MOVX    A,@DPTR
0211 FF                MOV     R7,A
0212 E4                CLR     A
0213 FC                MOV     R4,A
0214 FD                MOV     R5,A
0215 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1128
0218 7D09              MOV     R5,#09H
021A 7F01              MOV     R7,#01H
021C 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1129
021F 7BFF              MOV     R3,#0FFH
0221 7A00        R     MOV     R2,#HIGH ?SC_72
0223 7900        R     MOV     R1,#LOW ?SC_72
0225 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1131
0228 22                RET     
0229         ?C0131:
0229 900000      R     MOV     DPTR,#Switch1PressCount
022C E0                MOVX    A,@DPTR
022D FF                MOV     R7,A
022E EF                MOV     A,R7
022F 6403              XRL     A,#03H
0231 6003              JZ      $ + 5H
0233 020000      R     LJMP    ?C0135
                                           ; SOURCE LINE # 1133
0236 7D00              MOV     R5,#00H
0238 7F00              MOV     R7,#00H
023A 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1134
023D 7BFF              MOV     R3,#0FFH
023F 7A00        R     MOV     R2,#HIGH ?SC_85
0241 7900        R     MOV     R1,#LOW ?SC_85
0243 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1135
0246 900000      R     MOV     DPTR,#result_in_volts
0249 120000      E     LCALL   ?C?LLDXDATA
024C C004              PUSH    AR4
024E C005              PUSH    AR5
0250 C006              PUSH    AR6
0252 C007              PUSH    AR7
0254 7F00              MOV     R7,#00H
0256 7E00              MOV     R6,#00H
0258 7D00              MOV     R5,#00H
025A 7C00              MOV     R4,#00H
025C 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
025F 120000      E     LCALL   ?C?LSTXDATA
0262 7F33              MOV     R7,#033H
0264 7E33              MOV     R6,#033H
0266 7D53              MOV     R5,#053H
0268 7C40              MOV     R4,#040H
026A 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
026D 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 73  

0270 7F00              MOV     R7,#00H
0272 7E00              MOV     R6,#00H
0274 7D20              MOV     R5,#020H
0276 7C41              MOV     R4,#041H
0278 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
027B 120000      E     LCALL   ?C?LSTXDATA
027E 7F00              MOV     R7,#00H
0280 7E00              MOV     R6,#00H
0282 7D16              MOV     R5,#016H
0284 7C43              MOV     R4,#043H
0286 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
0289 120000      E     LCALL   ?C?LSTXDATA
028C D007              POP     AR7
028E D006              POP     AR6
0290 D005              POP     AR5
0292 D004              POP     AR4
0294 120000      R     LCALL   _mapf
0297 120000      E     LCALL   ?C?CASTF
029A 900000      R     MOV     DPTR,#duration
029D EE                MOV     A,R6
029E F0                MOVX    @DPTR,A
029F A3                INC     DPTR
02A0 EF                MOV     A,R7
02A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1136
02A2 900000      R     MOV     DPTR,#duration
02A5 E0                MOVX    A,@DPTR
02A6 FE                MOV     R6,A
02A7 A3                INC     DPTR
02A8 E0                MOVX    A,@DPTR
02A9 FF                MOV     R7,A
02AA C3                CLR     C
02AB EF                MOV     A,R7
02AC 9464              SUBB    A,#064H
02AE EE                MOV     A,R6
02AF 9400              SUBB    A,#00H
02B1 503E              JNC     ?C0136
                                           ; SOURCE LINE # 1137
02B3 7D00              MOV     R5,#00H
02B5 7F01              MOV     R7,#01H
02B7 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1138
02BA 7BFF              MOV     R3,#0FFH
02BC 7A00        R     MOV     R2,#HIGH ?SC_0
02BE 7900        R     MOV     R1,#LOW ?SC_0
02C0 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1139
02C3 7D00              MOV     R5,#00H
02C5 7F01              MOV     R7,#01H
02C7 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1140
02CA 900000      R     MOV     DPTR,#duration
02CD E0                MOVX    A,@DPTR
02CE FE                MOV     R6,A
02CF A3                INC     DPTR
02D0 E0                MOVX    A,@DPTR
02D1 FF                MOV     R7,A
02D2 E4                CLR     A
02D3 FC                MOV     R4,A
02D4 FD                MOV     R5,A
02D5 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1141
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 74  

02D8 7D06              MOV     R5,#06H
02DA 7F01              MOV     R7,#01H
02DC 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1142
02DF 7BFF              MOV     R3,#0FFH
02E1 7A00        R     MOV     R2,#HIGH ?SC_0
02E3 7900        R     MOV     R1,#LOW ?SC_0
02E5 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1143
02E8 7D06              MOV     R5,#06H
02EA 7F01              MOV     R7,#01H
02EC 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1144
02EF 801C              SJMP    ?C0137
02F1         ?C0136:
                                           ; SOURCE LINE # 1146
02F1 7D00              MOV     R5,#00H
02F3 7F01              MOV     R7,#01H
02F5 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1147
02F8 900000      R     MOV     DPTR,#duration
02FB E0                MOVX    A,@DPTR
02FC FE                MOV     R6,A
02FD A3                INC     DPTR
02FE E0                MOVX    A,@DPTR
02FF FF                MOV     R7,A
0300 E4                CLR     A
0301 FC                MOV     R4,A
0302 FD                MOV     R5,A
0303 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1148
0306 7D06              MOV     R5,#06H
0308 7F01              MOV     R7,#01H
030A 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1149
030D         ?C0137:
                                           ; SOURCE LINE # 1150
030D 900000      R     MOV     DPTR,#auigreenduration+04H
0310 E0                MOVX    A,@DPTR
0311 FE                MOV     R6,A
0312 A3                INC     DPTR
0313 E0                MOVX    A,@DPTR
0314 FF                MOV     R7,A
0315 E4                CLR     A
0316 FC                MOV     R4,A
0317 FD                MOV     R5,A
0318 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1151
031B 7D09              MOV     R5,#09H
031D 7F01              MOV     R7,#01H
031F 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1152
0322 7BFF              MOV     R3,#0FFH
0324 7A00        R     MOV     R2,#HIGH ?SC_72
0326 7900        R     MOV     R1,#LOW ?SC_72
0328 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1154
032B 22                RET     
032C         ?C0135:
032C 900000      R     MOV     DPTR,#Switch1PressCount
032F E0                MOVX    A,@DPTR
0330 FF                MOV     R7,A
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 75  

0331 EF                MOV     A,R7
0332 6404              XRL     A,#04H
0334 6003              JZ      $ + 5H
0336 020000      R     LJMP    ?C0167
                                           ; SOURCE LINE # 1156
0339 7D00              MOV     R5,#00H
033B 7F00              MOV     R7,#00H
033D 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1157
0340 7BFF              MOV     R3,#0FFH
0342 7A00        R     MOV     R2,#HIGH ?SC_104
0344 7900        R     MOV     R1,#LOW ?SC_104
0346 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1158
0349 900000      R     MOV     DPTR,#result_in_volts
034C 120000      E     LCALL   ?C?LLDXDATA
034F C004              PUSH    AR4
0351 C005              PUSH    AR5
0353 C006              PUSH    AR6
0355 C007              PUSH    AR7
0357 7F00              MOV     R7,#00H
0359 7E00              MOV     R6,#00H
035B 7D00              MOV     R5,#00H
035D 7C00              MOV     R4,#00H
035F 900000      R     MOV     DPTR,#?_mapf?BYTE+04H
0362 120000      E     LCALL   ?C?LSTXDATA
0365 7F33              MOV     R7,#033H
0367 7E33              MOV     R6,#033H
0369 7D53              MOV     R5,#053H
036B 7C40              MOV     R4,#040H
036D 900000      R     MOV     DPTR,#?_mapf?BYTE+08H
0370 120000      E     LCALL   ?C?LSTXDATA
0373 7F00              MOV     R7,#00H
0375 7E00              MOV     R6,#00H
0377 7D20              MOV     R5,#020H
0379 7C41              MOV     R4,#041H
037B 900000      R     MOV     DPTR,#?_mapf?BYTE+0CH
037E 120000      E     LCALL   ?C?LSTXDATA
0381 7F00              MOV     R7,#00H
0383 7E00              MOV     R6,#00H
0385 7D16              MOV     R5,#016H
0387 7C43              MOV     R4,#043H
0389 900000      R     MOV     DPTR,#?_mapf?BYTE+010H
038C 120000      E     LCALL   ?C?LSTXDATA
038F D007              POP     AR7
0391 D006              POP     AR6
0393 D005              POP     AR5
0395 D004              POP     AR4
0397 120000      R     LCALL   _mapf
039A 120000      E     LCALL   ?C?CASTF
039D 900000      R     MOV     DPTR,#duration
03A0 EE                MOV     A,R6
03A1 F0                MOVX    @DPTR,A
03A2 A3                INC     DPTR
03A3 EF                MOV     A,R7
03A4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1159
03A5 900000      R     MOV     DPTR,#duration
03A8 E0                MOVX    A,@DPTR
03A9 FE                MOV     R6,A
03AA A3                INC     DPTR
03AB E0                MOVX    A,@DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 76  

03AC FF                MOV     R7,A
03AD C3                CLR     C
03AE EF                MOV     A,R7
03AF 9464              SUBB    A,#064H
03B1 EE                MOV     A,R6
03B2 9400              SUBB    A,#00H
03B4 503E              JNC     ?C0140
                                           ; SOURCE LINE # 1160
03B6 7D00              MOV     R5,#00H
03B8 7F01              MOV     R7,#01H
03BA 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1161
03BD 7BFF              MOV     R3,#0FFH
03BF 7A00        R     MOV     R2,#HIGH ?SC_0
03C1 7900        R     MOV     R1,#LOW ?SC_0
03C3 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1162
03C6 7D00              MOV     R5,#00H
03C8 7F01              MOV     R7,#01H
03CA 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1163
03CD 900000      R     MOV     DPTR,#duration
03D0 E0                MOVX    A,@DPTR
03D1 FE                MOV     R6,A
03D2 A3                INC     DPTR
03D3 E0                MOVX    A,@DPTR
03D4 FF                MOV     R7,A
03D5 E4                CLR     A
03D6 FC                MOV     R4,A
03D7 FD                MOV     R5,A
03D8 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1164
03DB 7D06              MOV     R5,#06H
03DD 7F01              MOV     R7,#01H
03DF 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1165
03E2 7BFF              MOV     R3,#0FFH
03E4 7A00        R     MOV     R2,#HIGH ?SC_0
03E6 7900        R     MOV     R1,#LOW ?SC_0
03E8 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1166
03EB 7D06              MOV     R5,#06H
03ED 7F01              MOV     R7,#01H
03EF 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1167
03F2 801C              SJMP    ?C0141
03F4         ?C0140:
                                           ; SOURCE LINE # 1169
03F4 7D00              MOV     R5,#00H
03F6 7F01              MOV     R7,#01H
03F8 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1170
03FB 900000      R     MOV     DPTR,#duration
03FE E0                MOVX    A,@DPTR
03FF FE                MOV     R6,A
0400 A3                INC     DPTR
0401 E0                MOVX    A,@DPTR
0402 FF                MOV     R7,A
0403 E4                CLR     A
0404 FC                MOV     R4,A
0405 FD                MOV     R5,A
0406 120000      E     LCALL   _LCD_PrintU32Number
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 77  

                                           ; SOURCE LINE # 1171
0409 7D06              MOV     R5,#06H
040B 7F01              MOV     R7,#01H
040D 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1172
0410         ?C0141:
                                           ; SOURCE LINE # 1173
0410 900000      R     MOV     DPTR,#auigreenduration+06H
0413 E0                MOVX    A,@DPTR
0414 FE                MOV     R6,A
0415 A3                INC     DPTR
0416 E0                MOVX    A,@DPTR
0417 FF                MOV     R7,A
0418 E4                CLR     A
0419 FC                MOV     R4,A
041A FD                MOV     R5,A
041B 120000      E     LCALL   _LCD_PrintU32Number
                                           ; SOURCE LINE # 1174
041E 7D09              MOV     R5,#09H
0420 7F01              MOV     R7,#01H
0422 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1175
0425 7BFF              MOV     R3,#0FFH
0427 7A00        R     MOV     R2,#HIGH ?SC_72
0429 7900        R     MOV     R1,#LOW ?SC_72
042B 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1177
042E 22                RET     
                                           ; SOURCE LINE # 1180
                                           ; SOURCE LINE # 1182
042F         ?C0125:
042F 900000      R     MOV     DPTR,#CurrentState
0432 E0                MOVX    A,@DPTR
0433 FF                MOV     R7,A
0434 EF                MOV     A,R7
0435 6003              JZ      $ + 5H
0437 020000      R     LJMP    ?C0144
                                           ; SOURCE LINE # 1185
043A 120000      E     LCALL   Front_Green_LED_Read
043D EF                MOV     A,R7
043E B4011D            CJNE    A,#01H,?C0145
                                           ; SOURCE LINE # 1186
0441 7D00              MOV     R5,#00H
0443 7F00              MOV     R7,#00H
0445 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1187
0448 7BFF              MOV     R3,#0FFH
044A 7A00        R     MOV     R2,#HIGH ?SC_123
044C 7900        R     MOV     R1,#LOW ?SC_123
044E 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1188
0451 900000      R     MOV     DPTR,#Ftimer
0454 E0                MOVX    A,@DPTR
0455 FE                MOV     R6,A
0456 A3                INC     DPTR
0457 E0                MOVX    A,@DPTR
0458 FF                MOV     R7,A
0459 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1190
045C 8046              SJMP    ?C0146
045E         ?C0145:
045E 120000      E     LCALL   Front_Red_LED_Read
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 78  

0461 EF                MOV     A,R7
0462 B4011D            CJNE    A,#01H,?C0147
                                           ; SOURCE LINE # 1191
0465 7D00              MOV     R5,#00H
0467 7F00              MOV     R7,#00H
0469 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1192
046C 7BFF              MOV     R3,#0FFH
046E 7A00        R     MOV     R2,#HIGH ?SC_129
0470 7900        R     MOV     R1,#LOW ?SC_129
0472 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1193
0475 900000      R     MOV     DPTR,#Ftimer
0478 E0                MOVX    A,@DPTR
0479 FE                MOV     R6,A
047A A3                INC     DPTR
047B E0                MOVX    A,@DPTR
047C FF                MOV     R7,A
047D 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1195
0480 8022              SJMP    ?C0146
0482         ?C0147:
0482 120000      E     LCALL   Front_Amber_LED_Read
0485 EF                MOV     A,R7
0486 B4011B            CJNE    A,#01H,?C0146
                                           ; SOURCE LINE # 1196
0489 7D00              MOV     R5,#00H
048B 7F00              MOV     R7,#00H
048D 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1197
0490 7BFF              MOV     R3,#0FFH
0492 7A00        R     MOV     R2,#HIGH ?SC_135
0494 7900        R     MOV     R1,#LOW ?SC_135
0496 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1198
0499 900000      R     MOV     DPTR,#Ftimer
049C E0                MOVX    A,@DPTR
049D FE                MOV     R6,A
049E A3                INC     DPTR
049F E0                MOVX    A,@DPTR
04A0 FF                MOV     R7,A
04A1 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1200
04A4         ?C0146:
                                           ; SOURCE LINE # 1202
04A4 120000      E     LCALL   Right_Green_LED_Read
04A7 EF                MOV     A,R7
04A8 B4011D            CJNE    A,#01H,?C0150
                                           ; SOURCE LINE # 1203
04AB 7D08              MOV     R5,#08H
04AD 7F00              MOV     R7,#00H
04AF 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1204
04B2 7BFF              MOV     R3,#0FFH
04B4 7A00        R     MOV     R2,#HIGH ?SC_141
04B6 7900        R     MOV     R1,#LOW ?SC_141
04B8 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1205
04BB 900000      R     MOV     DPTR,#Rtimer
04BE E0                MOVX    A,@DPTR
04BF FE                MOV     R6,A
04C0 A3                INC     DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 79  

04C1 E0                MOVX    A,@DPTR
04C2 FF                MOV     R7,A
04C3 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1207
04C6 8046              SJMP    ?C0151
04C8         ?C0150:
04C8 120000      E     LCALL   Right_Red_LED_Read
04CB EF                MOV     A,R7
04CC B4011D            CJNE    A,#01H,?C0152
                                           ; SOURCE LINE # 1208
04CF 7D08              MOV     R5,#08H
04D1 7F00              MOV     R7,#00H
04D3 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1209
04D6 7BFF              MOV     R3,#0FFH
04D8 7A00        R     MOV     R2,#HIGH ?SC_147
04DA 7900        R     MOV     R1,#LOW ?SC_147
04DC 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1210
04DF 900000      R     MOV     DPTR,#Rtimer
04E2 E0                MOVX    A,@DPTR
04E3 FE                MOV     R6,A
04E4 A3                INC     DPTR
04E5 E0                MOVX    A,@DPTR
04E6 FF                MOV     R7,A
04E7 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1212
04EA 8022              SJMP    ?C0151
04EC         ?C0152:
04EC 120000      E     LCALL   Right_Amber_LED_Read
04EF EF                MOV     A,R7
04F0 B4011B            CJNE    A,#01H,?C0151
                                           ; SOURCE LINE # 1213
04F3 7D08              MOV     R5,#08H
04F5 7F00              MOV     R7,#00H
04F7 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1214
04FA 7BFF              MOV     R3,#0FFH
04FC 7A00        R     MOV     R2,#HIGH ?SC_153
04FE 7900        R     MOV     R1,#LOW ?SC_153
0500 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1215
0503 900000      R     MOV     DPTR,#Rtimer
0506 E0                MOVX    A,@DPTR
0507 FE                MOV     R6,A
0508 A3                INC     DPTR
0509 E0                MOVX    A,@DPTR
050A FF                MOV     R7,A
050B 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1217
050E         ?C0151:
                                           ; SOURCE LINE # 1219
050E 120000      E     LCALL   Left_Green_LED_Read
0511 EF                MOV     A,R7
0512 B4011D            CJNE    A,#01H,?C0155
                                           ; SOURCE LINE # 1220
0515 7D00              MOV     R5,#00H
0517 7F01              MOV     R7,#01H
0519 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1221
051C 7BFF              MOV     R3,#0FFH
051E 7A00        R     MOV     R2,#HIGH ?SC_159
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 80  

0520 7900        R     MOV     R1,#LOW ?SC_159
0522 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1222
0525 900000      R     MOV     DPTR,#Ltimer
0528 E0                MOVX    A,@DPTR
0529 FE                MOV     R6,A
052A A3                INC     DPTR
052B E0                MOVX    A,@DPTR
052C FF                MOV     R7,A
052D 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1224
0530 8046              SJMP    ?C0156
0532         ?C0155:
0532 120000      E     LCALL   Left_Red_LED_Read
0535 EF                MOV     A,R7
0536 B4011D            CJNE    A,#01H,?C0157
                                           ; SOURCE LINE # 1225
0539 7D00              MOV     R5,#00H
053B 7F01              MOV     R7,#01H
053D 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1226
0540 7BFF              MOV     R3,#0FFH
0542 7A00        R     MOV     R2,#HIGH ?SC_165
0544 7900        R     MOV     R1,#LOW ?SC_165
0546 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1227
0549 900000      R     MOV     DPTR,#Ltimer
054C E0                MOVX    A,@DPTR
054D FE                MOV     R6,A
054E A3                INC     DPTR
054F E0                MOVX    A,@DPTR
0550 FF                MOV     R7,A
0551 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1229
0554 8022              SJMP    ?C0156
0556         ?C0157:
0556 120000      E     LCALL   Left_Amber_LED_Read
0559 EF                MOV     A,R7
055A B4011B            CJNE    A,#01H,?C0156
                                           ; SOURCE LINE # 1230
055D 7D00              MOV     R5,#00H
055F 7F01              MOV     R7,#01H
0561 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1231
0564 7BFF              MOV     R3,#0FFH
0566 7A00        R     MOV     R2,#HIGH ?SC_171
0568 7900        R     MOV     R1,#LOW ?SC_171
056A 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1232
056D 900000      R     MOV     DPTR,#Ltimer
0570 E0                MOVX    A,@DPTR
0571 FE                MOV     R6,A
0572 A3                INC     DPTR
0573 E0                MOVX    A,@DPTR
0574 FF                MOV     R7,A
0575 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1234
0578         ?C0156:
                                           ; SOURCE LINE # 1236
0578 120000      E     LCALL   Green_LED_Read
057B EF                MOV     A,R7
057C B4011C            CJNE    A,#01H,?C0160
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 81  

                                           ; SOURCE LINE # 1237
057F 7D08              MOV     R5,#08H
0581 7F01              MOV     R7,#01H
0583 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1238
0586 7BFF              MOV     R3,#0FFH
0588 7A00        R     MOV     R2,#HIGH ?SC_177
058A 7900        R     MOV     R1,#LOW ?SC_177
058C 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1239
058F 900000      R     MOV     DPTR,#Dtimer
0592 E0                MOVX    A,@DPTR
0593 FE                MOV     R6,A
0594 A3                INC     DPTR
0595 E0                MOVX    A,@DPTR
0596 FF                MOV     R7,A
0597 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1241
059A 22                RET     
059B         ?C0160:
059B 120000      E     LCALL   Red_LED_Read
059E EF                MOV     A,R7
059F B4011C            CJNE    A,#01H,?C0162
                                           ; SOURCE LINE # 1242
05A2 7D08              MOV     R5,#08H
05A4 7F01              MOV     R7,#01H
05A6 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1243
05A9 7BFF              MOV     R3,#0FFH
05AB 7A00        R     MOV     R2,#HIGH ?SC_183
05AD 7900        R     MOV     R1,#LOW ?SC_183
05AF 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1244
05B2 900000      R     MOV     DPTR,#Dtimer
05B5 E0                MOVX    A,@DPTR
05B6 FE                MOV     R6,A
05B7 A3                INC     DPTR
05B8 E0                MOVX    A,@DPTR
05B9 FF                MOV     R7,A
05BA 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1246
05BD 22                RET     
05BE         ?C0162:
05BE 120000      E     LCALL   Amber_LED_Read
05C1 EF                MOV     A,R7
05C2 6401              XRL     A,#01H
05C4 7035              JNZ     ?C0167
                                           ; SOURCE LINE # 1247
05C6 7D08              MOV     R5,#08H
05C8 7F01              MOV     R7,#01H
05CA 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1248
05CD 7BFF              MOV     R3,#0FFH
05CF 7A00        R     MOV     R2,#HIGH ?SC_189
05D1 7900        R     MOV     R1,#LOW ?SC_189
05D3 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1249
05D6 900000      R     MOV     DPTR,#Dtimer
05D9 E0                MOVX    A,@DPTR
05DA FE                MOV     R6,A
05DB A3                INC     DPTR
05DC E0                MOVX    A,@DPTR
C51 COMPILER V9.51   MAIN                                                                  06/10/2019 15:22:24 PAGE 82  

05DD FF                MOV     R7,A
05DE 120000      R     LCALL   _LCD_Clearindex
                                           ; SOURCE LINE # 1251
                                           ; SOURCE LINE # 1253
05E1 22                RET     
05E2         ?C0144:
                                           ; SOURCE LINE # 1254
05E2 900000      R     MOV     DPTR,#CurrentState
05E5 E0                MOVX    A,@DPTR
05E6 FF                MOV     R7,A
05E7 EF                MOV     A,R7
05E8 B40110            CJNE    A,#01H,?C0167
                                           ; SOURCE LINE # 1256
05EB 7D03              MOV     R5,#03H
05ED 7F00              MOV     R7,#00H
05EF 120000      E     LCALL   _LCD_Position
                                           ; SOURCE LINE # 1257
05F2 7BFF              MOV     R3,#0FFH
05F4 7A00        R     MOV     R2,#HIGH ?SC_195
05F6 7900        R     MOV     R1,#LOW ?SC_195
05F8 120000      E     LCALL   _LCD_PrintString
                                           ; SOURCE LINE # 1258
                                           ; SOURCE LINE # 1261
05FB         ?C0167:
05FB 22                RET     
             ; FUNCTION LCD_Print (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   5337    ----
   CONSTANT SIZE    =    206    ----
   XDATA SIZE       =    164      31
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
